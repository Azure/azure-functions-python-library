<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>functions.decorators.function_app &#8212; azure-functions 1.14.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for functions.decorators.function_app</h1><div class="highlight"><pre>
<span></span><span class="c1">#  Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c1">#  Licensed under the MIT License.</span>
<span class="kn">import</span> <span class="nn">abc</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">ABC</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">time</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Union</span><span class="p">,</span> \
    <span class="n">Iterable</span>

<span class="kn">from</span> <span class="nn">azure.functions.decorators.blob</span> <span class="kn">import</span> <span class="n">BlobTrigger</span><span class="p">,</span> <span class="n">BlobInput</span><span class="p">,</span> <span class="n">BlobOutput</span>
<span class="kn">from</span> <span class="nn">azure.functions.decorators.core</span> <span class="kn">import</span> <span class="n">Binding</span><span class="p">,</span> <span class="n">Trigger</span><span class="p">,</span> <span class="n">DataType</span><span class="p">,</span> \
    <span class="n">AuthLevel</span><span class="p">,</span> <span class="n">SCRIPT_FILE_NAME</span><span class="p">,</span> <span class="n">Cardinality</span><span class="p">,</span> <span class="n">AccessRights</span>
<span class="kn">from</span> <span class="nn">azure.functions.decorators.cosmosdb</span> <span class="kn">import</span> <span class="n">CosmosDBTrigger</span><span class="p">,</span> \
    <span class="n">CosmosDBOutput</span><span class="p">,</span> <span class="n">CosmosDBInput</span><span class="p">,</span> <span class="n">CosmosDBTriggerV3</span><span class="p">,</span> <span class="n">CosmosDBInputV3</span><span class="p">,</span> \
    <span class="n">CosmosDBOutputV3</span>
<span class="kn">from</span> <span class="nn">azure.functions.decorators.eventgrid</span> <span class="kn">import</span> <span class="n">EventGridTrigger</span><span class="p">,</span> \
    <span class="n">EventGridOutput</span>
<span class="kn">from</span> <span class="nn">azure.functions.decorators.eventhub</span> <span class="kn">import</span> <span class="n">EventHubTrigger</span><span class="p">,</span> <span class="n">EventHubOutput</span>
<span class="kn">from</span> <span class="nn">azure.functions.decorators.http</span> <span class="kn">import</span> <span class="n">HttpTrigger</span><span class="p">,</span> <span class="n">HttpOutput</span><span class="p">,</span> \
    <span class="n">HttpMethod</span>
<span class="kn">from</span> <span class="nn">azure.functions.decorators.queue</span> <span class="kn">import</span> <span class="n">QueueTrigger</span><span class="p">,</span> <span class="n">QueueOutput</span>
<span class="kn">from</span> <span class="nn">azure.functions.decorators.servicebus</span> <span class="kn">import</span> <span class="n">ServiceBusQueueTrigger</span><span class="p">,</span> \
    <span class="n">ServiceBusQueueOutput</span><span class="p">,</span> <span class="n">ServiceBusTopicTrigger</span><span class="p">,</span> \
    <span class="n">ServiceBusTopicOutput</span>
<span class="kn">from</span> <span class="nn">azure.functions.decorators.table</span> <span class="kn">import</span> <span class="n">TableInput</span><span class="p">,</span> <span class="n">TableOutput</span>
<span class="kn">from</span> <span class="nn">azure.functions.decorators.timer</span> <span class="kn">import</span> <span class="n">TimerTrigger</span>
<span class="kn">from</span> <span class="nn">azure.functions.decorators.utils</span> <span class="kn">import</span> <span class="n">parse_singular_param_to_enum</span><span class="p">,</span> \
    <span class="n">parse_iterable_param_to_enums</span><span class="p">,</span> <span class="n">StringifyEnumJsonEncoder</span>
<span class="kn">from</span> <span class="nn">azure.functions.http</span> <span class="kn">import</span> <span class="n">HttpRequest</span>
<span class="kn">from</span> <span class="nn">.generic</span> <span class="kn">import</span> <span class="n">GenericInputBinding</span><span class="p">,</span> <span class="n">GenericTrigger</span><span class="p">,</span> <span class="n">GenericOutputBinding</span>
<span class="kn">from</span> <span class="nn">.warmup</span> <span class="kn">import</span> <span class="n">WarmUpTrigger</span>
<span class="kn">from</span> <span class="nn">.._http_asgi</span> <span class="kn">import</span> <span class="n">AsgiMiddleware</span>
<span class="kn">from</span> <span class="nn">.._http_wsgi</span> <span class="kn">import</span> <span class="n">WsgiMiddleware</span><span class="p">,</span> <span class="n">Context</span>


<div class="viewcode-block" id="Function"><a class="viewcode-back" href="../../../functions.decorators.html#functions.Function">[docs]</a><span class="k">class</span> <span class="nc">Function</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The function object represents a function in Function App. It</span>
<span class="sd">    encapsulates function metadata and callable and used in the worker</span>
<span class="sd">    function indexing model. Ref: https://aka.ms/azure-function-ref</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">script_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructor of :class:`FunctionBuilder` object.</span>

<span class="sd">        :param func: User defined python function instance.</span>
<span class="sd">        :param script_file: File name indexed by worker to find function.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">func</span><span class="o">.</span><span class="vm">__name__</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_func</span> <span class="o">=</span> <span class="n">func</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_trigger</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Trigger</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_bindings</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Binding</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">function_script_file</span> <span class="o">=</span> <span class="n">script_file</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">http_type</span> <span class="o">=</span> <span class="s1">&#39;function&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_http_function</span> <span class="o">=</span> <span class="kc">False</span>

<div class="viewcode-block" id="Function.add_binding"><a class="viewcode-back" href="../../../functions.decorators.html#functions.Function.add_binding">[docs]</a>    <span class="k">def</span> <span class="nf">add_binding</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">binding</span><span class="p">:</span> <span class="n">Binding</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add a binding instance to the function.</span>

<span class="sd">        :param binding: The binding object to add.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_bindings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">binding</span><span class="p">)</span></div>

<div class="viewcode-block" id="Function.add_trigger"><a class="viewcode-back" href="../../../functions.decorators.html#functions.Function.add_trigger">[docs]</a>    <span class="k">def</span> <span class="nf">add_trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trigger</span><span class="p">:</span> <span class="n">Trigger</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add a trigger instance to the function.</span>

<span class="sd">        :param trigger: The trigger object to add.</span>
<span class="sd">        :raises ValueError: Raises trigger already exists error if a trigger is</span>
<span class="sd">             being added to a function which has trigger attached.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_trigger</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;A trigger was already registered to this &quot;</span>
                             <span class="s2">&quot;function. Adding another trigger is not the &quot;</span>
                             <span class="s2">&quot;correct behavior as a function can only have one&quot;</span>
                             <span class="s2">&quot; trigger. Existing registered trigger &quot;</span>
                             <span class="sa">f</span><span class="s2">&quot;is </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_trigger</span><span class="o">.</span><span class="n">get_dict_repr</span><span class="p">()</span><span class="si">}</span><span class="s2"> and New &quot;</span>
                             <span class="sa">f</span><span class="s2">&quot;trigger &quot;</span>
                             <span class="sa">f</span><span class="s2">&quot;being added is </span><span class="si">{</span><span class="n">trigger</span><span class="o">.</span><span class="n">get_dict_repr</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_trigger</span> <span class="o">=</span> <span class="n">trigger</span>
        <span class="c1">#  We still add the trigger info to the bindings to ensure that</span>
        <span class="c1">#  function.json is complete</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_bindings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">trigger</span><span class="p">)</span></div>

<div class="viewcode-block" id="Function.set_function_name"><a class="viewcode-back" href="../../../functions.decorators.html#functions.Function.set_function_name">[docs]</a>    <span class="k">def</span> <span class="nf">set_function_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">function_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set or update the name for the function if `function_name`</span>
<span class="sd">         is not None. If not set, function name will default to python</span>
<span class="sd">        function name.</span>
<span class="sd">        :param function_name: Name the function set to.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">function_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">function_name</span></div>

<div class="viewcode-block" id="Function.set_http_type"><a class="viewcode-back" href="../../../functions.decorators.html#functions.Function.set_http_type">[docs]</a>    <span class="k">def</span> <span class="nf">set_http_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">http_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set or update the http type for the function if `http_type`</span>
<span class="sd">        .</span>
<span class="sd">        :param http_type: Http function type.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">http_type</span> <span class="o">=</span> <span class="n">http_type</span></div>

<div class="viewcode-block" id="Function.is_http_function"><a class="viewcode-back" href="../../../functions.decorators.html#functions.Function.is_http_function">[docs]</a>    <span class="k">def</span> <span class="nf">is_http_function</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_http_function</span></div>

<div class="viewcode-block" id="Function.get_trigger"><a class="viewcode-back" href="../../../functions.decorators.html#functions.Function.get_trigger">[docs]</a>    <span class="k">def</span> <span class="nf">get_trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Trigger</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get attached trigger instance of the function.</span>

<span class="sd">        :return: Trigger instance or None.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_trigger</span></div>

<div class="viewcode-block" id="Function.get_bindings"><a class="viewcode-back" href="../../../functions.decorators.html#functions.Function.get_bindings">[docs]</a>    <span class="k">def</span> <span class="nf">get_bindings</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Binding</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get all the bindings attached to the function.</span>

<span class="sd">        :return: Bindings attached to the function.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bindings</span></div>

<div class="viewcode-block" id="Function.get_raw_bindings"><a class="viewcode-back" href="../../../functions.decorators.html#functions.Function.get_raw_bindings">[docs]</a>    <span class="k">def</span> <span class="nf">get_raw_bindings</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">get_dict_repr</span><span class="p">(),</span> <span class="bp">cls</span><span class="o">=</span><span class="n">StringifyEnumJsonEncoder</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bindings</span><span class="p">]</span></div>

<div class="viewcode-block" id="Function.get_bindings_dict"><a class="viewcode-back" href="../../../functions.decorators.html#functions.Function.get_bindings_dict">[docs]</a>    <span class="k">def</span> <span class="nf">get_bindings_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get dictionary representation of the bindings of the function.</span>

<span class="sd">        :return: Dictionary representation of the bindings.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;bindings&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">b</span><span class="o">.</span><span class="n">get_dict_repr</span><span class="p">()</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bindings</span><span class="p">]}</span></div>

<div class="viewcode-block" id="Function.get_dict_repr"><a class="viewcode-back" href="../../../functions.decorators.html#functions.Function.get_dict_repr">[docs]</a>    <span class="k">def</span> <span class="nf">get_dict_repr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the dictionary representation of the function.</span>

<span class="sd">        :return: The dictionary representation of the function.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">stub_f_json</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;scriptFile&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">function_script_file</span>
        <span class="p">}</span>
        <span class="n">stub_f_json</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bindings_dict</span><span class="p">())</span>  <span class="c1"># NoQA</span>
        <span class="k">return</span> <span class="n">stub_f_json</span></div>

<div class="viewcode-block" id="Function.get_user_function"><a class="viewcode-back" href="../../../functions.decorators.html#functions.Function.get_user_function">[docs]</a>    <span class="k">def</span> <span class="nf">get_user_function</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the python function customer defined.</span>

<span class="sd">        :return: The python function customer defined.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_func</span></div>

<div class="viewcode-block" id="Function.get_function_name"><a class="viewcode-back" href="../../../functions.decorators.html#functions.Function.get_function_name">[docs]</a>    <span class="k">def</span> <span class="nf">get_function_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the function name.</span>

<span class="sd">        :return: Function name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span></div>

<div class="viewcode-block" id="Function.get_function_json"><a class="viewcode-back" href="../../../functions.decorators.html#functions.Function.get_function_json">[docs]</a>    <span class="k">def</span> <span class="nf">get_function_json</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the json stringified form of function.</span>

<span class="sd">        :return: The json stringified form of function.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_dict_repr</span><span class="p">(),</span> <span class="bp">cls</span><span class="o">=</span><span class="n">StringifyEnumJsonEncoder</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_function_json</span><span class="p">()</span></div>


<div class="viewcode-block" id="FunctionBuilder"><a class="viewcode-back" href="../../../functions.decorators.html#functions.FunctionBuilder">[docs]</a><span class="k">class</span> <span class="nc">FunctionBuilder</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">function_script_file</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_function</span> <span class="o">=</span> <span class="n">Function</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">function_script_file</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">pass</span>

<div class="viewcode-block" id="FunctionBuilder.configure_function_name"><a class="viewcode-back" href="../../../functions.decorators.html#functions.FunctionBuilder.configure_function_name">[docs]</a>    <span class="k">def</span> <span class="nf">configure_function_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">function_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;FunctionBuilder&#39;</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_function</span><span class="o">.</span><span class="n">set_function_name</span><span class="p">(</span><span class="n">function_name</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span></div>

<div class="viewcode-block" id="FunctionBuilder.configure_http_type"><a class="viewcode-back" href="../../../functions.decorators.html#functions.FunctionBuilder.configure_http_type">[docs]</a>    <span class="k">def</span> <span class="nf">configure_http_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">http_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;FunctionBuilder&#39;</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_function</span><span class="o">.</span><span class="n">set_http_type</span><span class="p">(</span><span class="n">http_type</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span></div>

<div class="viewcode-block" id="FunctionBuilder.add_trigger"><a class="viewcode-back" href="../../../functions.decorators.html#functions.FunctionBuilder.add_trigger">[docs]</a>    <span class="k">def</span> <span class="nf">add_trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trigger</span><span class="p">:</span> <span class="n">Trigger</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;FunctionBuilder&#39;</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_function</span><span class="o">.</span><span class="n">add_trigger</span><span class="p">(</span><span class="n">trigger</span><span class="o">=</span><span class="n">trigger</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span></div>

<div class="viewcode-block" id="FunctionBuilder.add_binding"><a class="viewcode-back" href="../../../functions.decorators.html#functions.FunctionBuilder.add_binding">[docs]</a>    <span class="k">def</span> <span class="nf">add_binding</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">binding</span><span class="p">:</span> <span class="n">Binding</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;FunctionBuilder&#39;</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_function</span><span class="o">.</span><span class="n">add_binding</span><span class="p">(</span><span class="n">binding</span><span class="o">=</span><span class="n">binding</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span></div>

    <span class="k">def</span> <span class="nf">_validate_function</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                           <span class="n">auth_level</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AuthLevel</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validates the function information before building the function.</span>

<span class="sd">        :param auth_level: Http auth level that will be set if http</span>
<span class="sd">        trigger function auth level is None.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">function_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_function</span><span class="o">.</span><span class="n">get_function_name</span><span class="p">()</span>
        <span class="n">trigger</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_function</span><span class="o">.</span><span class="n">get_trigger</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">trigger</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Function </span><span class="si">{</span><span class="n">function_name</span><span class="si">}</span><span class="s2"> does not have a trigger. A valid &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;function must have one and only one trigger registered.&quot;</span><span class="p">)</span>

        <span class="n">bindings</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_function</span><span class="o">.</span><span class="n">get_bindings</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">trigger</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">bindings</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Function </span><span class="si">{</span><span class="n">function_name</span><span class="si">}</span><span class="s2"> trigger </span><span class="si">{</span><span class="n">trigger</span><span class="si">}</span><span class="s2"> not present&quot;</span>
                <span class="sa">f</span><span class="s2">&quot; in bindings </span><span class="si">{</span><span class="n">bindings</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Set route to function name if unspecified in the http trigger</span>
        <span class="c1"># Set auth level to function app auth level if unspecified in the</span>
        <span class="c1"># http trigger</span>
        <span class="k">if</span> <span class="n">Trigger</span><span class="o">.</span><span class="n">is_supported_trigger_type</span><span class="p">(</span><span class="n">trigger</span><span class="p">,</span> <span class="n">HttpTrigger</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">trigger</span><span class="p">,</span> <span class="s1">&#39;route&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="nb">getattr</span><span class="p">(</span><span class="n">trigger</span><span class="p">,</span> <span class="s1">&#39;init_params&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;route&#39;</span><span class="p">)</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="n">trigger</span><span class="p">,</span> <span class="s1">&#39;route&#39;</span><span class="p">,</span> <span class="n">function_name</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">trigger</span><span class="p">,</span> <span class="s1">&#39;auth_level&#39;</span><span class="p">,</span>
                       <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">auth_level</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="nb">getattr</span><span class="p">(</span><span class="n">trigger</span><span class="p">,</span> <span class="s1">&#39;init_params&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;auth_level&#39;</span><span class="p">)</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="n">trigger</span><span class="p">,</span> <span class="s1">&#39;auth_level&#39;</span><span class="p">,</span>
                        <span class="n">parse_singular_param_to_enum</span><span class="p">(</span><span class="n">auth_level</span><span class="p">,</span> <span class="n">AuthLevel</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_function</span><span class="o">.</span><span class="n">_is_http_function</span> <span class="o">=</span> <span class="kc">True</span>

<div class="viewcode-block" id="FunctionBuilder.build"><a class="viewcode-back" href="../../../functions.decorators.html#functions.FunctionBuilder.build">[docs]</a>    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">auth_level</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AuthLevel</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Function</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validates and builds the function object.</span>

<span class="sd">        :param auth_level: Http auth level that will be set if http</span>
<span class="sd">        trigger function auth level is None.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_function</span><span class="p">(</span><span class="n">auth_level</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_function</span></div></div>


<div class="viewcode-block" id="DecoratorApi"><a class="viewcode-back" href="../../../functions.decorators.html#functions.DecoratorApi">[docs]</a><span class="k">class</span> <span class="nc">DecoratorApi</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Interface which contains essential decorator function building blocks</span>
<span class="sd">    to extend for creating new function app or blueprint classes.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_function_builders</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">FunctionBuilder</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_app_script_file</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">SCRIPT_FILE_NAME</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">app_script_file</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Name of function app script file in which all the functions</span>
<span class="sd">         are defined. \n</span>
<span class="sd">         Script file defined here is for placeholder purpose, please refer to</span>
<span class="sd">         worker defined script file path as the single point of truth.</span>

<span class="sd">        :return: Script file name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_app_script_file</span>

    <span class="k">def</span> <span class="nf">_validate_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                       <span class="n">func</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">FunctionBuilder</span><span class="p">])</span> \
            <span class="o">-&gt;</span> <span class="n">FunctionBuilder</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate the type of the function object and return the created</span>
<span class="sd">        :class:`FunctionBuilder` object.</span>


<span class="sd">        :param func: Function object passed to</span>
<span class="sd">         :meth:`_configure_function_builder`</span>
<span class="sd">        :raises ValueError: Raise error when func param is neither</span>
<span class="sd">         :class:`Callable` nor :class:`FunctionBuilder`.</span>
<span class="sd">        :return: :class:`FunctionBuilder` object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">FunctionBuilder</span><span class="p">):</span>
            <span class="n">fb</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_function_builders</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="k">elif</span> <span class="nb">callable</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
            <span class="n">fb</span> <span class="o">=</span> <span class="n">FunctionBuilder</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_app_script_file</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Unsupported type for function app decorator found.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">fb</span>

    <span class="k">def</span> <span class="nf">_configure_function_builder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wrap</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Decorator function on user defined function to create and return</span>
<span class="sd">         :class:`FunctionBuilder` object from :class:`Callable` func.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
            <span class="n">fb</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_type</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_function_builders</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fb</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">wrap</span><span class="p">(</span><span class="n">fb</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">decorator</span>

<div class="viewcode-block" id="DecoratorApi.function_name"><a class="viewcode-back" href="../../../functions.decorators.html#functions.DecoratorApi.function_name">[docs]</a>    <span class="k">def</span> <span class="nf">function_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set name of the :class:`Function` object.</span>

<span class="sd">        :param name: Name of the function.</span>
<span class="sd">        :return: Decorator function.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">_configure_function_builder</span>
        <span class="k">def</span> <span class="nf">wrap</span><span class="p">(</span><span class="n">fb</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">decorator</span><span class="p">():</span>
                <span class="n">fb</span><span class="o">.</span><span class="n">configure_function_name</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">fb</span>

            <span class="k">return</span> <span class="n">decorator</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">wrap</span></div>

<div class="viewcode-block" id="DecoratorApi.http_type"><a class="viewcode-back" href="../../../functions.decorators.html#functions.DecoratorApi.http_type">[docs]</a>    <span class="k">def</span> <span class="nf">http_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">http_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set http type of the :class:`Function` object.</span>

<span class="sd">        :param http_type: Http type of the function.</span>
<span class="sd">        :return: Decorator function.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">_configure_function_builder</span>
        <span class="k">def</span> <span class="nf">wrap</span><span class="p">(</span><span class="n">fb</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">decorator</span><span class="p">():</span>
                <span class="n">fb</span><span class="o">.</span><span class="n">configure_http_type</span><span class="p">(</span><span class="n">http_type</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">fb</span>

            <span class="k">return</span> <span class="n">decorator</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">wrap</span></div></div>


<div class="viewcode-block" id="HttpFunctionsAuthLevelMixin"><a class="viewcode-back" href="../../../functions.decorators.html#functions.HttpFunctionsAuthLevelMixin">[docs]</a><span class="k">class</span> <span class="nc">HttpFunctionsAuthLevelMixin</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Interface to extend for enabling function app level http</span>
<span class="sd">    authorization level setting&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">auth_level</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">AuthLevel</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_auth_level</span> <span class="o">=</span> <span class="n">AuthLevel</span><span class="p">[</span><span class="n">auth_level</span><span class="p">]</span> \
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">auth_level</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">auth_level</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">auth_level</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AuthLevel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Authorization level of the function app. Will be applied to the http</span>
<span class="sd">         trigger functions which do not have authorization level specified.</span>

<span class="sd">        :return: Authorization level of the function app.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_auth_level</span></div>


<div class="viewcode-block" id="TriggerApi"><a class="viewcode-back" href="../../../functions.decorators.html#functions.TriggerApi">[docs]</a><span class="k">class</span> <span class="nc">TriggerApi</span><span class="p">(</span><span class="n">DecoratorApi</span><span class="p">,</span> <span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Interface to extend for using existing trigger decorator functions.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="TriggerApi.route"><a class="viewcode-back" href="../../../functions.decorators.html#functions.TriggerApi.route">[docs]</a>    <span class="k">def</span> <span class="nf">route</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
              <span class="n">route</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
              <span class="n">trigger_arg_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;req&#39;</span><span class="p">,</span>
              <span class="n">binding_arg_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;$return&#39;</span><span class="p">,</span>
              <span class="n">methods</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
                  <span class="n">Union</span><span class="p">[</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">HttpMethod</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
              <span class="n">auth_level</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">AuthLevel</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
              <span class="n">trigger_extra_fields</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{},</span>
              <span class="n">binding_extra_fields</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
              <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The route decorator adds :class:`HttpTrigger` and</span>
<span class="sd">        :class:`HttpOutput` binding to the :class:`FunctionBuilder` object</span>
<span class="sd">        for building :class:`Function` object used in worker function</span>
<span class="sd">        indexing model. This is equivalent to defining HttpTrigger</span>
<span class="sd">        and HttpOutput binding in the function.json which enables your</span>
<span class="sd">        function be triggered when http requests hit the specified route.</span>
<span class="sd">        All optional fields will be given default value by function host when</span>
<span class="sd">        they are parsed by function host.</span>

<span class="sd">        Ref: https://aka.ms/azure-function-binding-http</span>

<span class="sd">        :param route: Route for the http endpoint, if None, it will be set</span>
<span class="sd">        to function name if present or user defined python function name.</span>
<span class="sd">        :param trigger_arg_name: Argument name for :class:`HttpRequest`,</span>
<span class="sd">        defaults to &#39;req&#39;.</span>
<span class="sd">        :param binding_arg_name: Argument name for :class:`HttpResponse`,</span>
<span class="sd">        defaults to &#39;$return&#39;.</span>
<span class="sd">        :param methods: A tuple of the HTTP methods to which the function</span>
<span class="sd">        responds.</span>
<span class="sd">        :param auth_level: Determines what keys, if any, need to be present</span>
<span class="sd">        on the request in order to invoke the function.</span>
<span class="sd">        :return: Decorator function.</span>
<span class="sd">        :param trigger_extra_fields: Additional fields to include in trigger</span>
<span class="sd">        json. For example,</span>
<span class="sd">        &gt;&gt;&gt; data_type=&#39;STRING&#39; # &#39;dataType&#39;: &#39;STRING&#39; in trigger json</span>
<span class="sd">        :param binding_extra_fields: Additional fields to include in binding</span>
<span class="sd">        json. For example,</span>
<span class="sd">        &gt;&gt;&gt; data_type=&#39;STRING&#39; # &#39;dataType&#39;: &#39;STRING&#39; in binding json</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">_configure_function_builder</span>
        <span class="k">def</span> <span class="nf">wrap</span><span class="p">(</span><span class="n">fb</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">decorator</span><span class="p">():</span>
                <span class="n">fb</span><span class="o">.</span><span class="n">add_trigger</span><span class="p">(</span><span class="n">trigger</span><span class="o">=</span><span class="n">HttpTrigger</span><span class="p">(</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">trigger_arg_name</span><span class="p">,</span>
                    <span class="n">methods</span><span class="o">=</span><span class="n">parse_iterable_param_to_enums</span><span class="p">(</span><span class="n">methods</span><span class="p">,</span> <span class="n">HttpMethod</span><span class="p">),</span>
                    <span class="n">auth_level</span><span class="o">=</span><span class="n">parse_singular_param_to_enum</span><span class="p">(</span><span class="n">auth_level</span><span class="p">,</span>
                                                            <span class="n">AuthLevel</span><span class="p">),</span>
                    <span class="n">route</span><span class="o">=</span><span class="n">route</span><span class="p">,</span> <span class="o">**</span><span class="n">trigger_extra_fields</span><span class="p">))</span>
                <span class="n">fb</span><span class="o">.</span><span class="n">add_binding</span><span class="p">(</span><span class="n">binding</span><span class="o">=</span><span class="n">HttpOutput</span><span class="p">(</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">binding_arg_name</span><span class="p">,</span> <span class="o">**</span><span class="n">binding_extra_fields</span><span class="p">))</span>
                <span class="k">return</span> <span class="n">fb</span>

            <span class="k">return</span> <span class="n">decorator</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">wrap</span></div>

<div class="viewcode-block" id="TriggerApi.timer_trigger"><a class="viewcode-back" href="../../../functions.decorators.html#functions.TriggerApi.timer_trigger">[docs]</a>    <span class="k">def</span> <span class="nf">timer_trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                      <span class="n">arg_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                      <span class="n">schedule</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                      <span class="n">run_on_startup</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                      <span class="n">use_monitor</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                      <span class="n">data_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">DataType</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                      <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The schedule or timer decorator adds :class:`TimerTrigger` to the</span>
<span class="sd">        :class:`FunctionBuilder` object</span>
<span class="sd">        for building :class:`Function` object used in worker function</span>
<span class="sd">        indexing model. This is equivalent to defining TimerTrigger</span>
<span class="sd">        in the function.json which enables your function be triggered on the</span>
<span class="sd">        specified schedule.</span>
<span class="sd">        All optional fields will be given default value by function host when</span>
<span class="sd">        they are parsed by function host.</span>

<span class="sd">        Ref: https://aka.ms/azure-function-binding-timer</span>

<span class="sd">        :param arg_name: The name of the variable that represents the</span>
<span class="sd">        :class:`TimerRequest` object in function code.</span>
<span class="sd">        :param schedule: A string representing a CRON expression that will</span>
<span class="sd">        be used to schedule a function to run.</span>
<span class="sd">        :param run_on_startup: If true, the function is invoked when the</span>
<span class="sd">        runtime starts.</span>
<span class="sd">        :param use_monitor: Set to true or false to indicate whether the</span>
<span class="sd">        schedule should be monitored.</span>
<span class="sd">        :param data_type: Defines how Functions runtime should treat the</span>
<span class="sd">        parameter value.</span>
<span class="sd">        :return: Decorator function.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">_configure_function_builder</span>
        <span class="k">def</span> <span class="nf">wrap</span><span class="p">(</span><span class="n">fb</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">decorator</span><span class="p">():</span>
                <span class="n">fb</span><span class="o">.</span><span class="n">add_trigger</span><span class="p">(</span>
                    <span class="n">trigger</span><span class="o">=</span><span class="n">TimerTrigger</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">arg_name</span><span class="p">,</span>
                        <span class="n">schedule</span><span class="o">=</span><span class="n">schedule</span><span class="p">,</span>
                        <span class="n">run_on_startup</span><span class="o">=</span><span class="n">run_on_startup</span><span class="p">,</span>
                        <span class="n">use_monitor</span><span class="o">=</span><span class="n">use_monitor</span><span class="p">,</span>
                        <span class="n">data_type</span><span class="o">=</span><span class="n">parse_singular_param_to_enum</span><span class="p">(</span><span class="n">data_type</span><span class="p">,</span>
                                                               <span class="n">DataType</span><span class="p">),</span>
                        <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                <span class="k">return</span> <span class="n">fb</span>

            <span class="k">return</span> <span class="n">decorator</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">wrap</span></div>

    <span class="n">schedule</span> <span class="o">=</span> <span class="n">timer_trigger</span>

<div class="viewcode-block" id="TriggerApi.warm_up_trigger"><a class="viewcode-back" href="../../../functions.decorators.html#functions.TriggerApi.warm_up_trigger">[docs]</a>    <span class="k">def</span> <span class="nf">warm_up_trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                        <span class="n">arg_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                        <span class="n">data_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">DataType</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                        <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The warm up decorator adds :class:`WarmUpTrigger` to the</span>
<span class="sd">        :class:`FunctionBuilder` object</span>
<span class="sd">        for building :class:`Function` object used in worker function</span>
<span class="sd">        indexing model. This is equivalent to defining WarmUpTrigger</span>
<span class="sd">        in the function.json which enables your function be triggered on the</span>
<span class="sd">        specified schedule.</span>
<span class="sd">        All optional fields will be given default value by function host when</span>
<span class="sd">        they are parsed by function host.</span>

<span class="sd">        Ref: https://aka.ms/azure-function-binding-warmup</span>

<span class="sd">        :param arg_name: The name of the variable that represents the</span>
<span class="sd">        :class:`TimerRequest` object in function code.</span>
<span class="sd">        :param data_type: Defines how Functions runtime should treat the</span>
<span class="sd">        parameter value.</span>
<span class="sd">        :return: Decorator function.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">_configure_function_builder</span>
        <span class="k">def</span> <span class="nf">wrap</span><span class="p">(</span><span class="n">fb</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">decorator</span><span class="p">():</span>
                <span class="n">fb</span><span class="o">.</span><span class="n">add_trigger</span><span class="p">(</span>
                    <span class="n">trigger</span><span class="o">=</span><span class="n">WarmUpTrigger</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">arg_name</span><span class="p">,</span>
                        <span class="n">data_type</span><span class="o">=</span><span class="n">parse_singular_param_to_enum</span><span class="p">(</span><span class="n">data_type</span><span class="p">,</span>
                                                               <span class="n">DataType</span><span class="p">),</span>
                        <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                <span class="k">return</span> <span class="n">fb</span>

            <span class="k">return</span> <span class="n">decorator</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">wrap</span></div>

<div class="viewcode-block" id="TriggerApi.service_bus_queue_trigger"><a class="viewcode-back" href="../../../functions.decorators.html#functions.TriggerApi.service_bus_queue_trigger">[docs]</a>    <span class="k">def</span> <span class="nf">service_bus_queue_trigger</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">arg_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
            <span class="n">connection</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
            <span class="n">queue_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
            <span class="n">data_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">DataType</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">access_rights</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">AccessRights</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">is_sessions_enabled</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">cardinality</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Cardinality</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The on_service_bus_queue_change decorator adds</span>
<span class="sd">        :class:`ServiceBusQueueTrigger` to the :class:`FunctionBuilder` object</span>
<span class="sd">        for building :class:`Function` object used in worker function</span>
<span class="sd">        indexing model. This is equivalent to defining ServiceBusQueueTrigger</span>
<span class="sd">        in the function.json which enables your function be triggered when</span>
<span class="sd">        new message(s) are sent to the service bus queue.</span>
<span class="sd">        All optional fields will be given default value by function host when</span>
<span class="sd">        they are parsed by function host.</span>

<span class="sd">        Ref: https://aka.ms/azure-function-binding-service-bus</span>

<span class="sd">        :param arg_name: The name of the variable that represents the</span>
<span class="sd">        :class:`ServiceBusMessage` object in function code.</span>
<span class="sd">        :param connection: The name of an app setting or setting collection</span>
<span class="sd">        that specifies how to connect to Service Bus.</span>
<span class="sd">        :param queue_name: Name of the queue to monitor.</span>
<span class="sd">        :param data_type: Defines how Functions runtime should treat the</span>
<span class="sd">        parameter value.</span>
<span class="sd">        :param access_rights: Access rights for the connection string.</span>
<span class="sd">        :param is_sessions_enabled: True if connecting to a session-aware</span>
<span class="sd">        queue or subscription.</span>
<span class="sd">        :param cardinality: Set to many in order to enable batching.</span>
<span class="sd">        :return: Decorator function.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">_configure_function_builder</span>
        <span class="k">def</span> <span class="nf">wrap</span><span class="p">(</span><span class="n">fb</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">decorator</span><span class="p">():</span>
                <span class="n">fb</span><span class="o">.</span><span class="n">add_trigger</span><span class="p">(</span>
                    <span class="n">trigger</span><span class="o">=</span><span class="n">ServiceBusQueueTrigger</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">arg_name</span><span class="p">,</span>
                        <span class="n">connection</span><span class="o">=</span><span class="n">connection</span><span class="p">,</span>
                        <span class="n">queue_name</span><span class="o">=</span><span class="n">queue_name</span><span class="p">,</span>
                        <span class="n">data_type</span><span class="o">=</span><span class="n">parse_singular_param_to_enum</span><span class="p">(</span><span class="n">data_type</span><span class="p">,</span>
                                                               <span class="n">DataType</span><span class="p">),</span>
                        <span class="n">access_rights</span><span class="o">=</span><span class="n">parse_singular_param_to_enum</span><span class="p">(</span>
                            <span class="n">access_rights</span><span class="p">,</span>
                            <span class="n">AccessRights</span><span class="p">),</span>
                        <span class="n">is_sessions_enabled</span><span class="o">=</span><span class="n">is_sessions_enabled</span><span class="p">,</span>
                        <span class="n">cardinality</span><span class="o">=</span><span class="n">parse_singular_param_to_enum</span><span class="p">(</span><span class="n">cardinality</span><span class="p">,</span>
                                                                 <span class="n">Cardinality</span><span class="p">),</span>
                        <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                <span class="k">return</span> <span class="n">fb</span>

            <span class="k">return</span> <span class="n">decorator</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">wrap</span></div>

<div class="viewcode-block" id="TriggerApi.service_bus_topic_trigger"><a class="viewcode-back" href="../../../functions.decorators.html#functions.TriggerApi.service_bus_topic_trigger">[docs]</a>    <span class="k">def</span> <span class="nf">service_bus_topic_trigger</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">arg_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
            <span class="n">connection</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
            <span class="n">topic_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
            <span class="n">subscription_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
            <span class="n">data_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">DataType</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">access_rights</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">AccessRights</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">is_sessions_enabled</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">cardinality</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Cardinality</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The on_service_bus_topic_change decorator adds</span>
<span class="sd">        :class:`ServiceBusTopicTrigger` to the :class:`FunctionBuilder` object</span>
<span class="sd">        for building :class:`Function` object used in worker function</span>
<span class="sd">        indexing model. This is equivalent to defining ServiceBusTopicTrigger</span>
<span class="sd">        in the function.json which enables function to be triggered when new</span>
<span class="sd">        message(s) are sent to the service bus topic.</span>
<span class="sd">        All optional fields will be given default value by function host when</span>
<span class="sd">        they are parsed by function host.</span>

<span class="sd">        Ref: https://aka.ms/azure-function-binding-service-bus</span>

<span class="sd">        :param arg_name: The name of the variable that represents the</span>
<span class="sd">        :class:`ServiceBusMessage` object in function code.</span>
<span class="sd">        :param connection: The name of an app setting or setting collection</span>
<span class="sd">        that specifies how to connect to Service Bus.</span>
<span class="sd">        :param topic_name: Name of the topic to monitor.</span>
<span class="sd">        :param subscription_name: Name of the subscription to monitor.</span>
<span class="sd">        :param data_type: Defines how Functions runtime should treat the</span>
<span class="sd">        parameter value.</span>
<span class="sd">        :param access_rights: Access rights for the connection string.</span>
<span class="sd">        :param is_sessions_enabled: True if connecting to a session-aware</span>
<span class="sd">        queue or subscription.</span>
<span class="sd">        :param cardinality: Set to many in order to enable batching.</span>
<span class="sd">        :return: Decorator function.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">_configure_function_builder</span>
        <span class="k">def</span> <span class="nf">wrap</span><span class="p">(</span><span class="n">fb</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">decorator</span><span class="p">():</span>
                <span class="n">fb</span><span class="o">.</span><span class="n">add_trigger</span><span class="p">(</span>
                    <span class="n">trigger</span><span class="o">=</span><span class="n">ServiceBusTopicTrigger</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">arg_name</span><span class="p">,</span>
                        <span class="n">connection</span><span class="o">=</span><span class="n">connection</span><span class="p">,</span>
                        <span class="n">topic_name</span><span class="o">=</span><span class="n">topic_name</span><span class="p">,</span>
                        <span class="n">subscription_name</span><span class="o">=</span><span class="n">subscription_name</span><span class="p">,</span>
                        <span class="n">data_type</span><span class="o">=</span><span class="n">parse_singular_param_to_enum</span><span class="p">(</span><span class="n">data_type</span><span class="p">,</span>
                                                               <span class="n">DataType</span><span class="p">),</span>
                        <span class="n">access_rights</span><span class="o">=</span><span class="n">parse_singular_param_to_enum</span><span class="p">(</span>
                            <span class="n">access_rights</span><span class="p">,</span>
                            <span class="n">AccessRights</span><span class="p">),</span>
                        <span class="n">is_sessions_enabled</span><span class="o">=</span><span class="n">is_sessions_enabled</span><span class="p">,</span>
                        <span class="n">cardinality</span><span class="o">=</span><span class="n">parse_singular_param_to_enum</span><span class="p">(</span><span class="n">cardinality</span><span class="p">,</span>
                                                                 <span class="n">Cardinality</span><span class="p">),</span>
                        <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                <span class="k">return</span> <span class="n">fb</span>

            <span class="k">return</span> <span class="n">decorator</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">wrap</span></div>

<div class="viewcode-block" id="TriggerApi.queue_trigger"><a class="viewcode-back" href="../../../functions.decorators.html#functions.TriggerApi.queue_trigger">[docs]</a>    <span class="k">def</span> <span class="nf">queue_trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                      <span class="n">arg_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                      <span class="n">queue_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                      <span class="n">connection</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                      <span class="n">data_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">DataType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                      <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The queue_trigger decorator adds :class:`QueueTrigger` to the</span>
<span class="sd">        :class:`FunctionBuilder` object</span>
<span class="sd">        for building :class:`Function` object used in worker function</span>
<span class="sd">        indexing model. This is equivalent to defining QueueTrigger</span>
<span class="sd">        in the function.json which enables function to be triggered when new</span>
<span class="sd">        message(s) are sent to the storage queue.</span>
<span class="sd">        All optional fields will be given default value by function host when</span>
<span class="sd">        they are parsed by function host.</span>

<span class="sd">        Ref: https://aka.ms/azure-function-binding-queue</span>

<span class="sd">        :param arg_name: The name of the variable that represents the</span>
<span class="sd">        :class:`QueueMessage` object in function code.</span>
<span class="sd">        :param queue_name: The name of the queue to poll.</span>
<span class="sd">        :param connection: The name of an app setting or setting collection</span>
<span class="sd">        that specifies how to connect to Azure Queues.</span>
<span class="sd">        :param data_type: Defines how Functions runtime should treat the</span>
<span class="sd">        parameter value.</span>
<span class="sd">        :param kwargs: Keyword arguments for specifying additional binding</span>
<span class="sd">        fields to include in the binding json.</span>

<span class="sd">        :return: Decorator function.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">_configure_function_builder</span>
        <span class="k">def</span> <span class="nf">wrap</span><span class="p">(</span><span class="n">fb</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">decorator</span><span class="p">():</span>
                <span class="n">fb</span><span class="o">.</span><span class="n">add_trigger</span><span class="p">(</span>
                    <span class="n">trigger</span><span class="o">=</span><span class="n">QueueTrigger</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">arg_name</span><span class="p">,</span>
                        <span class="n">queue_name</span><span class="o">=</span><span class="n">queue_name</span><span class="p">,</span>
                        <span class="n">connection</span><span class="o">=</span><span class="n">connection</span><span class="p">,</span>
                        <span class="n">data_type</span><span class="o">=</span><span class="n">parse_singular_param_to_enum</span><span class="p">(</span><span class="n">data_type</span><span class="p">,</span>
                                                               <span class="n">DataType</span><span class="p">),</span>
                        <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                <span class="k">return</span> <span class="n">fb</span>

            <span class="k">return</span> <span class="n">decorator</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">wrap</span></div>

<div class="viewcode-block" id="TriggerApi.event_hub_message_trigger"><a class="viewcode-back" href="../../../functions.decorators.html#functions.TriggerApi.event_hub_message_trigger">[docs]</a>    <span class="k">def</span> <span class="nf">event_hub_message_trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                  <span class="n">arg_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                  <span class="n">connection</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                  <span class="n">event_hub_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                  <span class="n">data_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
                                      <span class="n">Union</span><span class="p">[</span><span class="n">DataType</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                                  <span class="n">cardinality</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
                                      <span class="n">Union</span><span class="p">[</span><span class="n">Cardinality</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                                  <span class="n">consumer_group</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
                                      <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                                  <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The event_hub_message_trigger decorator adds</span>
<span class="sd">        :class:`EventHubTrigger`</span>
<span class="sd">        to the :class:`FunctionBuilder` object</span>
<span class="sd">        for building :class:`Function` object used in worker function</span>
<span class="sd">        indexing model. This is equivalent to defining EventHubTrigger</span>
<span class="sd">        in the function.json which enables function to be triggered when new</span>
<span class="sd">        message(s) are sent to the event hub.</span>
<span class="sd">        All optional fields will be given default value by function host when</span>
<span class="sd">        they are parsed by function host.</span>

<span class="sd">        Ref: https://aka.ms/azure-function-binding-event-hubs</span>

<span class="sd">        :param arg_name: The name of the variable that represents</span>
<span class="sd">        :class:`EventHubEvent` object in function code.</span>
<span class="sd">        :param connection: The name of an app setting or setting collection</span>
<span class="sd">        that specifies how to connect to Event Hubs.</span>
<span class="sd">        :param event_hub_name: The name of the event hub.</span>
<span class="sd">        :param data_type: Defines how Functions runtime should treat the</span>
<span class="sd">        parameter value.</span>
<span class="sd">        :param cardinality: Set to many in order to enable batching.</span>
<span class="sd">        :param consumer_group: An optional property that sets the consumer</span>
<span class="sd">        group used to subscribe to events in the hub.</span>
<span class="sd">        :param kwargs: Keyword arguments for specifying additional binding</span>
<span class="sd">        fields to include in the binding json.</span>

<span class="sd">        :return: Decorator function.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">_configure_function_builder</span>
        <span class="k">def</span> <span class="nf">wrap</span><span class="p">(</span><span class="n">fb</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">decorator</span><span class="p">():</span>
                <span class="n">fb</span><span class="o">.</span><span class="n">add_trigger</span><span class="p">(</span>
                    <span class="n">trigger</span><span class="o">=</span><span class="n">EventHubTrigger</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">arg_name</span><span class="p">,</span>
                        <span class="n">connection</span><span class="o">=</span><span class="n">connection</span><span class="p">,</span>
                        <span class="n">event_hub_name</span><span class="o">=</span><span class="n">event_hub_name</span><span class="p">,</span>
                        <span class="n">data_type</span><span class="o">=</span><span class="n">parse_singular_param_to_enum</span><span class="p">(</span><span class="n">data_type</span><span class="p">,</span>
                                                               <span class="n">DataType</span><span class="p">),</span>
                        <span class="n">cardinality</span><span class="o">=</span><span class="n">parse_singular_param_to_enum</span><span class="p">(</span><span class="n">cardinality</span><span class="p">,</span>
                                                                 <span class="n">Cardinality</span><span class="p">),</span>
                        <span class="n">consumer_group</span><span class="o">=</span><span class="n">consumer_group</span><span class="p">,</span>
                        <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                <span class="k">return</span> <span class="n">fb</span>

            <span class="k">return</span> <span class="n">decorator</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">wrap</span></div>

<div class="viewcode-block" id="TriggerApi.cosmos_db_trigger_v3"><a class="viewcode-back" href="../../../functions.decorators.html#functions.TriggerApi.cosmos_db_trigger_v3">[docs]</a>    <span class="k">def</span> <span class="nf">cosmos_db_trigger_v3</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                             <span class="n">arg_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                             <span class="n">database_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                             <span class="n">collection_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                             <span class="n">connection_string_setting</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                             <span class="n">lease_collection_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                             <span class="n">lease_connection_string_setting</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
                                 <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                             <span class="n">lease_database_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                             <span class="n">create_lease_collection_if_not_exists</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
                                 <span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                             <span class="n">leases_collection_throughput</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span>
                             <span class="kc">None</span><span class="p">,</span>
                             <span class="n">lease_collection_prefix</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                             <span class="n">checkpoint_interval</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                             <span class="n">checkpoint_document_count</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                             <span class="n">feed_poll_delay</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                             <span class="n">lease_renew_interval</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                             <span class="n">lease_acquire_interval</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                             <span class="n">lease_expiration_interval</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                             <span class="n">max_items_per_invocation</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                             <span class="n">start_from_beginning</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                             <span class="n">preferred_locations</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                             <span class="n">data_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
                                 <span class="n">Union</span><span class="p">[</span><span class="n">DataType</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                             <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> \
            <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The cosmos_db_trigger_v3 decorator adds :class:`CosmosDBTrigger`</span>
<span class="sd">        to the :class:`FunctionBuilder` object</span>
<span class="sd">        for building :class:`Function` object used in worker function</span>
<span class="sd">        indexing model. This decorator will work only with extension bundle 2.x</span>
<span class="sd">        or 3.x. For additional details, please refer</span>
<span class="sd">        https://aka.ms/cosmosdb-v4-update.</span>
<span class="sd">        This is equivalent to defining CosmosDBTrigger in the function.json</span>
<span class="sd">         which enables function to be triggered when CosmosDB data is changed.</span>
<span class="sd">        All optional fields will be given default value by function host when</span>
<span class="sd">        they are parsed by function host.</span>

<span class="sd">        Ref: https://aka.ms/azure-function-binding-cosmosdb-v2</span>

<span class="sd">        :param arg_name: The name of the variable that represents</span>
<span class="sd">        :class:`DocumentList` object in function code.</span>
<span class="sd">        :param database_name: The name of the Azure Cosmos DB database with</span>
<span class="sd">        the collection being monitored.</span>
<span class="sd">        :param collection_name: The name of the collection being monitored.</span>
<span class="sd">        :param connection_string_setting: The name of an app setting or</span>
<span class="sd">        setting collection that specifies how to connect to the Azure Cosmos</span>
<span class="sd">        DB account being monitored.</span>
<span class="sd">        :param lease_collection_name: The name of the collection used to</span>
<span class="sd">        store leases.</span>
<span class="sd">        :param lease_connection_string_setting: The name of an app setting</span>
<span class="sd">        or setting collection that specifies how to connect to the Azure</span>
<span class="sd">        Cosmos DB account that holds the lease collection.</span>
<span class="sd">        :param lease_database_name: The name of the database that holds the</span>
<span class="sd">        collection used to store leases.</span>
<span class="sd">        :param create_lease_collection_if_not_exists: When set to true,</span>
<span class="sd">        the leases collection is automatically created when it doesn&#39;t</span>
<span class="sd">        already exist.</span>
<span class="sd">        :param leases_collection_throughput: Defines the number of Request</span>
<span class="sd">        Units to assign when the leases collection is created.</span>
<span class="sd">        :param lease_collection_prefix: When set, the value is added as a</span>
<span class="sd">        prefix to the leases created in the Lease collection for this</span>
<span class="sd">        Function.</span>
<span class="sd">        :param checkpoint_interval: When set, it defines, in milliseconds,</span>
<span class="sd">        the interval between lease checkpoints. Default is always after a</span>
<span class="sd">        Function call.</span>
<span class="sd">        :param checkpoint_document_count: Customizes the amount of documents</span>
<span class="sd">        between lease checkpoints. Default is always after a Function call.</span>
<span class="sd">        :param feed_poll_delay: The time (in milliseconds) for the delay</span>
<span class="sd">        between polling a partition for new changes on the feed, after all</span>
<span class="sd">        current changes are drained.</span>
<span class="sd">        :param lease_renew_interval: When set, it defines, in milliseconds,</span>
<span class="sd">        the renew interval for all leases for partitions currently held by</span>
<span class="sd">        an instance.</span>
<span class="sd">        :param lease_acquire_interval: When set, it defines,</span>
<span class="sd">        in milliseconds, the interval to kick off a task to compute if</span>
<span class="sd">        partitions are distributed evenly among known host instances.</span>
<span class="sd">        :param lease_expiration_interval: When set, it defines,</span>
<span class="sd">        in milliseconds, the interval for which the lease is taken on a</span>
<span class="sd">        lease representing a partition.</span>
<span class="sd">        :param max_items_per_invocation: When set, this property sets the</span>
<span class="sd">        maximum number of items received per Function call.</span>
<span class="sd">        :param start_from_beginning: This option tells the Trigger to read</span>
<span class="sd">        changes from the beginning of the collection&#39;s change history</span>
<span class="sd">        instead of starting at the current time.</span>
<span class="sd">        :param preferred_locations: Defines preferred locations (regions)</span>
<span class="sd">        for geo-replicated database accounts in the Azure Cosmos DB service.</span>
<span class="sd">        :param data_type: Defines how Functions runtime should treat the</span>
<span class="sd">        parameter value.</span>
<span class="sd">        :param kwargs: Keyword arguments for specifying additional binding</span>
<span class="sd">        fields to include in the binding json.</span>

<span class="sd">        :return: Decorator function.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">trigger</span> <span class="o">=</span> <span class="n">CosmosDBTriggerV3</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">arg_name</span><span class="p">,</span>
            <span class="n">database_name</span><span class="o">=</span><span class="n">database_name</span><span class="p">,</span>
            <span class="n">collection_name</span><span class="o">=</span><span class="n">collection_name</span><span class="p">,</span>
            <span class="n">connection_string_setting</span><span class="o">=</span><span class="n">connection_string_setting</span><span class="p">,</span>
            <span class="n">lease_collection_name</span><span class="o">=</span><span class="n">lease_collection_name</span><span class="p">,</span>
            <span class="n">lease_connection_string_setting</span><span class="o">=</span><span class="n">lease_connection_string_setting</span><span class="p">,</span>
            <span class="n">lease_database_name</span><span class="o">=</span><span class="n">lease_database_name</span><span class="p">,</span>
            <span class="n">create_lease_collection_if_not_exists</span><span class="o">=</span><span class="n">create_lease_collection_if_not_exists</span><span class="p">,</span>  <span class="c1"># NoQA</span>
            <span class="n">leases_collection_throughput</span><span class="o">=</span><span class="n">leases_collection_throughput</span><span class="p">,</span>
            <span class="n">lease_collection_prefix</span><span class="o">=</span><span class="n">lease_collection_prefix</span><span class="p">,</span>
            <span class="n">checkpoint_interval</span><span class="o">=</span><span class="n">checkpoint_interval</span><span class="p">,</span>
            <span class="n">checkpoint_document_count</span><span class="o">=</span><span class="n">checkpoint_document_count</span><span class="p">,</span>
            <span class="n">feed_poll_delay</span><span class="o">=</span><span class="n">feed_poll_delay</span><span class="p">,</span>
            <span class="n">lease_renew_interval</span><span class="o">=</span><span class="n">lease_renew_interval</span><span class="p">,</span>
            <span class="n">lease_acquire_interval</span><span class="o">=</span><span class="n">lease_acquire_interval</span><span class="p">,</span>
            <span class="n">lease_expiration_interval</span><span class="o">=</span><span class="n">lease_expiration_interval</span><span class="p">,</span>
            <span class="n">max_items_per_invocation</span><span class="o">=</span><span class="n">max_items_per_invocation</span><span class="p">,</span>
            <span class="n">start_from_beginning</span><span class="o">=</span><span class="n">start_from_beginning</span><span class="p">,</span>
            <span class="n">preferred_locations</span><span class="o">=</span><span class="n">preferred_locations</span><span class="p">,</span>
            <span class="n">data_type</span><span class="o">=</span><span class="n">parse_singular_param_to_enum</span><span class="p">(</span><span class="n">data_type</span><span class="p">,</span> <span class="n">DataType</span><span class="p">),</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">_configure_function_builder</span>
        <span class="k">def</span> <span class="nf">wrap</span><span class="p">(</span><span class="n">fb</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">decorator</span><span class="p">():</span>
                <span class="n">fb</span><span class="o">.</span><span class="n">add_trigger</span><span class="p">(</span><span class="n">trigger</span><span class="o">=</span><span class="n">trigger</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">fb</span>

            <span class="k">return</span> <span class="n">decorator</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">wrap</span></div>

<div class="viewcode-block" id="TriggerApi.cosmos_db_trigger"><a class="viewcode-back" href="../../../functions.decorators.html#functions.TriggerApi.cosmos_db_trigger">[docs]</a>    <span class="k">def</span> <span class="nf">cosmos_db_trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                          <span class="n">arg_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                          <span class="n">connection</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                          <span class="n">database_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                          <span class="n">container_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                          <span class="n">lease_connection</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                          <span class="n">lease_database_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                          <span class="n">lease_container_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                          <span class="n">create_lease_container_if_not_exists</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
                              <span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                          <span class="n">leases_container_throughput</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                          <span class="n">lease_container_prefix</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                          <span class="n">feed_poll_delay</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                          <span class="n">lease_acquire_interval</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                          <span class="n">lease_expiration_interval</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                          <span class="n">lease_renew_interval</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                          <span class="n">max_items_per_invocation</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                          <span class="n">start_from_beginning</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">time</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                          <span class="n">start_from_time</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">time</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                          <span class="n">preferred_locations</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                          <span class="n">data_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
                              <span class="n">Union</span><span class="p">[</span><span class="n">DataType</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                          <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> \
            <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The cosmos_db_trigger decorator adds :class:`CosmosDBTrigger`</span>
<span class="sd">        to the :class:`FunctionBuilder` object</span>
<span class="sd">        for building :class:`Function` object used in worker function</span>
<span class="sd">        indexing model. This decorator will work only with extension bundle 4.x</span>
<span class="sd">        and above. For additional details, please refer</span>
<span class="sd">        https://aka.ms/cosmosdb-v4-update.</span>
<span class="sd">        This is equivalent to defining CosmosDBTrigger in the function.json</span>
<span class="sd">        which enables function to be triggered when CosmosDB data is changed.</span>
<span class="sd">        All optional fields will be given default value by function host when</span>
<span class="sd">        they are parsed by function host.</span>

<span class="sd">        Ref: https://aka.ms/azure-function-binding-cosmosdb-v4</span>

<span class="sd">        :param arg_name: The name of the variable that represents</span>
<span class="sd">        :class:`DocumentList` object in function code</span>
<span class="sd">        :param connection: The name of an app setting or setting collection</span>
<span class="sd">        that specifies how to connect to the Azure Cosmos DB account being</span>
<span class="sd">         monitored.</span>
<span class="sd">        :param database_name: The name of the Azure Cosmos DB database with</span>
<span class="sd">        the collection being monitored</span>
<span class="sd">        :param container_name: The name of the container being monitored</span>
<span class="sd">        :param lease_connection: (Optional) The name of an app setting or</span>
<span class="sd">         setting container that specifies how to connect to the Azure Cosmos</span>
<span class="sd">         DB account that holds the lease container</span>
<span class="sd">        :param lease_database_name: The name of the database that holds the</span>
<span class="sd">        collection used to store leases</span>
<span class="sd">        :param lease_container_name: (Optional) The name of the container used</span>
<span class="sd">            to store leases. When not set, the value leases is used</span>
<span class="sd">        :param create_lease_container_if_not_exists: (Optional) When set to</span>
<span class="sd">        true, the leases container is automatically created when it doesn&#39;t</span>
<span class="sd">         already exist. The default value is false. When using Azure AD</span>
<span class="sd">         identities if you set the value to true, creating containers is not an</span>
<span class="sd">          allowed operation and your Function won&#39;t be able to start</span>
<span class="sd">        :param leases_container_throughput: (Optional) Defines the number of</span>
<span class="sd">        Request Units to assign when the leases container is created. This</span>
<span class="sd">        setting is only used when createLeaseContainerIfNotExists is set to</span>
<span class="sd">        true. This parameter is automatically set when the binding is created</span>
<span class="sd">        using the portal</span>
<span class="sd">        :param lease_container_prefix: (Optional) When set, the value is added</span>
<span class="sd">        as a prefix to the leases created in the Lease container for this</span>
<span class="sd">        function. Using a prefix allows two separate Azure Functions to share</span>
<span class="sd">        the same Lease container by using different prefixes</span>
<span class="sd">        :param feed_poll_delay: The time (in milliseconds) for the delay</span>
<span class="sd">        between polling a partition for new changes on the feed, after all</span>
<span class="sd">        current changes are drained</span>
<span class="sd">        :param lease_acquire_interval: When set, it defines,</span>
<span class="sd">        in milliseconds, the interval to kick off a task to compute if</span>
<span class="sd">        partitions are distributed evenly among known host instances</span>
<span class="sd">        :param lease_expiration_interval: When set, it defines,</span>
<span class="sd">        in milliseconds, the interval for which the lease is taken on a</span>
<span class="sd">        lease representing a partition</span>
<span class="sd">        :param lease_renew_interval: When set, it defines, in milliseconds,</span>
<span class="sd">        the renew interval for all leases for partitions currently held by</span>
<span class="sd">        an instance</span>
<span class="sd">        :param max_items_per_invocation: When set, this property sets the</span>
<span class="sd">        maximum number of items received per Function call</span>
<span class="sd">        :param start_from_beginning: This option tells the Trigger to read</span>
<span class="sd">        changes from the beginning of the collection&#39;s change history</span>
<span class="sd">        instead of starting at the current time</span>
<span class="sd">        :param start_from_time: (Optional) Gets or sets the date and time from</span>
<span class="sd">        which to initialize the change feed read operation. The recommended</span>
<span class="sd">        format is ISO 8601 with the UTC designator, such as</span>
<span class="sd">        2021-02-16T14:19:29Z. This is only used to set the initial trigger</span>
<span class="sd">        state. After the trigger has a lease state, changing this value has</span>
<span class="sd">        no effect</span>
<span class="sd">        :param preferred_locations: Defines preferred locations (regions)</span>
<span class="sd">        for geo-replicated database accounts in the Azure Cosmos DB service</span>
<span class="sd">        :param data_type: Defines how Functions runtime should treat the</span>
<span class="sd">        parameter value</span>
<span class="sd">        :param kwargs: Keyword arguments for specifying additional binding</span>
<span class="sd">        fields to include in the binding json</span>

<span class="sd">        :return: Decorator function.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">trigger</span> <span class="o">=</span> <span class="n">CosmosDBTrigger</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">arg_name</span><span class="p">,</span>
            <span class="n">connection</span><span class="o">=</span><span class="n">connection</span><span class="p">,</span>
            <span class="n">database_name</span><span class="o">=</span><span class="n">database_name</span><span class="p">,</span>
            <span class="n">container_name</span><span class="o">=</span><span class="n">container_name</span><span class="p">,</span>
            <span class="n">lease_connection</span><span class="o">=</span><span class="n">lease_connection</span><span class="p">,</span>
            <span class="n">lease_database_name</span><span class="o">=</span><span class="n">lease_database_name</span><span class="p">,</span>
            <span class="n">lease_container_name</span><span class="o">=</span><span class="n">lease_container_name</span><span class="p">,</span>
            <span class="n">create_lease_container_if_not_exists</span><span class="o">=</span><span class="n">create_lease_container_if_not_exists</span><span class="p">,</span>  <span class="c1"># NoQA</span>
            <span class="n">leases_container_throughput</span><span class="o">=</span><span class="n">leases_container_throughput</span><span class="p">,</span>
            <span class="n">lease_container_prefix</span><span class="o">=</span><span class="n">lease_container_prefix</span><span class="p">,</span>
            <span class="n">feed_poll_delay</span><span class="o">=</span><span class="n">feed_poll_delay</span><span class="p">,</span>
            <span class="n">lease_acquire_interval</span><span class="o">=</span><span class="n">lease_acquire_interval</span><span class="p">,</span>
            <span class="n">lease_expiration_interval</span><span class="o">=</span><span class="n">lease_expiration_interval</span><span class="p">,</span>
            <span class="n">lease_renew_interval</span><span class="o">=</span><span class="n">lease_renew_interval</span><span class="p">,</span>
            <span class="n">max_items_per_invocation</span><span class="o">=</span><span class="n">max_items_per_invocation</span><span class="p">,</span>
            <span class="n">start_from_beginning</span><span class="o">=</span><span class="n">start_from_beginning</span><span class="p">,</span>
            <span class="n">start_from_time</span><span class="o">=</span><span class="n">start_from_time</span><span class="p">,</span>
            <span class="n">preferred_locations</span><span class="o">=</span><span class="n">preferred_locations</span><span class="p">,</span>
            <span class="n">data_type</span><span class="o">=</span><span class="n">parse_singular_param_to_enum</span><span class="p">(</span><span class="n">data_type</span><span class="p">,</span> <span class="n">DataType</span><span class="p">),</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">_configure_function_builder</span>
        <span class="k">def</span> <span class="nf">wrap</span><span class="p">(</span><span class="n">fb</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">decorator</span><span class="p">():</span>
                <span class="n">fb</span><span class="o">.</span><span class="n">add_trigger</span><span class="p">(</span><span class="n">trigger</span><span class="o">=</span><span class="n">trigger</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">fb</span>

            <span class="k">return</span> <span class="n">decorator</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">wrap</span></div>

<div class="viewcode-block" id="TriggerApi.blob_trigger"><a class="viewcode-back" href="../../../functions.decorators.html#functions.TriggerApi.blob_trigger">[docs]</a>    <span class="k">def</span> <span class="nf">blob_trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                     <span class="n">arg_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                     <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                     <span class="n">connection</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                     <span class="n">data_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">DataType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                     <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The blob_change_trigger decorator adds :class:`BlobTrigger` to the</span>
<span class="sd">        :class:`FunctionBuilder` object</span>
<span class="sd">        for building :class:`Function` object used in worker function</span>
<span class="sd">        indexing model. This is equivalent to defining BlobTrigger</span>
<span class="sd">        in the function.json which enables function to be triggered when new</span>
<span class="sd">        message(s) are sent to the storage blobs.</span>
<span class="sd">        All optional fields will be given default value by function host when</span>
<span class="sd">        they are parsed by function host.</span>
<span class="sd">        Ref: https://aka.ms/azure-function-binding-storage-blob</span>
<span class="sd">        :param arg_name: The name of the variable that represents the</span>
<span class="sd">        :class:`InputStream` object in function code.</span>
<span class="sd">        :param path: The path to the blob.</span>
<span class="sd">        :param connection: The name of an app setting or setting collection</span>
<span class="sd">        that specifies how to connect to Azure Blobs.</span>
<span class="sd">        :param data_type: Defines how Functions runtime should treat the</span>
<span class="sd">        parameter value.</span>
<span class="sd">        :param kwargs: Keyword arguments for specifying additional binding</span>
<span class="sd">        fields to include in the binding json.</span>

<span class="sd">        :return: Decorator function.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">_configure_function_builder</span>
        <span class="k">def</span> <span class="nf">wrap</span><span class="p">(</span><span class="n">fb</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">decorator</span><span class="p">():</span>
                <span class="n">fb</span><span class="o">.</span><span class="n">add_trigger</span><span class="p">(</span>
                    <span class="n">trigger</span><span class="o">=</span><span class="n">BlobTrigger</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">arg_name</span><span class="p">,</span>
                        <span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span>
                        <span class="n">connection</span><span class="o">=</span><span class="n">connection</span><span class="p">,</span>
                        <span class="n">data_type</span><span class="o">=</span><span class="n">parse_singular_param_to_enum</span><span class="p">(</span><span class="n">data_type</span><span class="p">,</span>
                                                               <span class="n">DataType</span><span class="p">),</span>
                        <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                <span class="k">return</span> <span class="n">fb</span>

            <span class="k">return</span> <span class="n">decorator</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">wrap</span></div>

<div class="viewcode-block" id="TriggerApi.event_grid_trigger"><a class="viewcode-back" href="../../../functions.decorators.html#functions.TriggerApi.event_grid_trigger">[docs]</a>    <span class="k">def</span> <span class="nf">event_grid_trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                           <span class="n">arg_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                           <span class="n">data_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
                               <span class="n">Union</span><span class="p">[</span><span class="n">DataType</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                           <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The event_grid_trigger decorator adds</span>
<span class="sd">        :class:`EventGridTrigger`</span>
<span class="sd">        to the :class:`FunctionBuilder` object</span>
<span class="sd">        for building :class:`Function` object used in worker function</span>
<span class="sd">        indexing model. This is equivalent to defining event grid trigger</span>
<span class="sd">        in the function.json which enables function to be triggered to</span>
<span class="sd">        respond to an event sent to an event grid topic.</span>
<span class="sd">        All optional fields will be given default value by function host when</span>
<span class="sd">        they are parsed by function host.</span>

<span class="sd">        Ref: https://aka.ms/eventgridtrigger</span>

<span class="sd">        :param arg_name: the variable name used in function code for the</span>
<span class="sd">            parameter that receives the event data.</span>
<span class="sd">        :param data_type: Defines how Functions runtime should treat the</span>
<span class="sd">        parameter value.</span>
<span class="sd">        :return: Decorator function.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">_configure_function_builder</span>
        <span class="k">def</span> <span class="nf">wrap</span><span class="p">(</span><span class="n">fb</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">decorator</span><span class="p">():</span>
                <span class="n">fb</span><span class="o">.</span><span class="n">add_trigger</span><span class="p">(</span>
                    <span class="n">trigger</span><span class="o">=</span><span class="n">EventGridTrigger</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">arg_name</span><span class="p">,</span>
                        <span class="n">data_type</span><span class="o">=</span><span class="n">parse_singular_param_to_enum</span><span class="p">(</span><span class="n">data_type</span><span class="p">,</span>
                                                               <span class="n">DataType</span><span class="p">),</span>
                        <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                <span class="k">return</span> <span class="n">fb</span>

            <span class="k">return</span> <span class="n">decorator</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">wrap</span></div>

<div class="viewcode-block" id="TriggerApi.generic_trigger"><a class="viewcode-back" href="../../../functions.decorators.html#functions.TriggerApi.generic_trigger">[docs]</a>    <span class="k">def</span> <span class="nf">generic_trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                        <span class="n">arg_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                        <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                        <span class="n">data_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">DataType</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                        <span class="o">**</span><span class="n">kwargs</span>
                        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The generic_trigger decorator adds :class:`GenericTrigger`</span>
<span class="sd">        to the :class:`FunctionBuilder` object for building :class:`Function`</span>
<span class="sd">        object used in worker function indexing model.</span>
<span class="sd">        This is equivalent to defining a generic trigger in the</span>
<span class="sd">        function.json which triggers function to execute when generic trigger</span>
<span class="sd">        events are received by host.</span>
<span class="sd">        All optional fields will be given default value by function host when</span>
<span class="sd">        they are parsed by function host.</span>

<span class="sd">        Ref: https://aka.ms/azure-function-binding-custom</span>

<span class="sd">        :param arg_name: The name of trigger parameter in the function code.</span>
<span class="sd">        :param type: The type of binding.</span>
<span class="sd">        :param data_type: Defines how Functions runtime should treat the</span>
<span class="sd">         parameter value.</span>
<span class="sd">        :param kwargs: Keyword arguments for specifying additional binding</span>
<span class="sd">        fields to include in the binding json.</span>

<span class="sd">        :return: Decorator function.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">_configure_function_builder</span>
        <span class="k">def</span> <span class="nf">wrap</span><span class="p">(</span><span class="n">fb</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">decorator</span><span class="p">():</span>
                <span class="n">fb</span><span class="o">.</span><span class="n">add_trigger</span><span class="p">(</span>
                    <span class="n">trigger</span><span class="o">=</span><span class="n">GenericTrigger</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">arg_name</span><span class="p">,</span>
                        <span class="nb">type</span><span class="o">=</span><span class="nb">type</span><span class="p">,</span>
                        <span class="n">data_type</span><span class="o">=</span><span class="n">parse_singular_param_to_enum</span><span class="p">(</span><span class="n">data_type</span><span class="p">,</span>
                                                               <span class="n">DataType</span><span class="p">),</span>
                        <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                <span class="k">return</span> <span class="n">fb</span>

            <span class="k">return</span> <span class="n">decorator</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">wrap</span></div></div>


<div class="viewcode-block" id="BindingApi"><a class="viewcode-back" href="../../../functions.decorators.html#functions.BindingApi">[docs]</a><span class="k">class</span> <span class="nc">BindingApi</span><span class="p">(</span><span class="n">DecoratorApi</span><span class="p">,</span> <span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Interface to extend for using existing binding decorator functions.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="BindingApi.service_bus_queue_output"><a class="viewcode-back" href="../../../functions.decorators.html#functions.BindingApi.service_bus_queue_output">[docs]</a>    <span class="k">def</span> <span class="nf">service_bus_queue_output</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                 <span class="n">arg_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                 <span class="n">connection</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                 <span class="n">queue_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                 <span class="n">data_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
                                     <span class="n">Union</span><span class="p">[</span><span class="n">DataType</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                                 <span class="n">access_rights</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span>
                                     <span class="n">AccessRights</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                                 <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> \
            <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The service_bus_queue_output decorator adds</span>
<span class="sd">        :class:`ServiceBusQueueOutput` to the :class:`FunctionBuilder` object</span>
<span class="sd">        for building :class:`Function` object used in worker function</span>
<span class="sd">        indexing model. This is equivalent to defining ServiceBusQueueOutput</span>
<span class="sd">        in the function.json which enables function to write message(s) to</span>
<span class="sd">        the service bus queue.</span>
<span class="sd">        All optional fields will be given default value by function host when</span>
<span class="sd">        they are parsed by function host.</span>

<span class="sd">        Ref: https://aka.ms/azure-function-binding-service-bus</span>

<span class="sd">        :param arg_name: The name of the variable that represents service</span>
<span class="sd">        bus queue output object in function code.</span>
<span class="sd">        :param connection: The name of an app setting or setting collection</span>
<span class="sd">        that specifies how to connect to Service Bus.</span>
<span class="sd">        :param queue_name: Name of the queue to monitor.</span>
<span class="sd">        :param data_type: Defines how Functions runtime should treat the</span>
<span class="sd">        parameter value.</span>
<span class="sd">        :param access_rights: Access rights for the connection string.</span>
<span class="sd">        :return: Decorator function.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">_configure_function_builder</span>
        <span class="k">def</span> <span class="nf">wrap</span><span class="p">(</span><span class="n">fb</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">decorator</span><span class="p">():</span>
                <span class="n">fb</span><span class="o">.</span><span class="n">add_binding</span><span class="p">(</span>
                    <span class="n">binding</span><span class="o">=</span><span class="n">ServiceBusQueueOutput</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">arg_name</span><span class="p">,</span>
                        <span class="n">connection</span><span class="o">=</span><span class="n">connection</span><span class="p">,</span>
                        <span class="n">queue_name</span><span class="o">=</span><span class="n">queue_name</span><span class="p">,</span>
                        <span class="n">data_type</span><span class="o">=</span><span class="n">parse_singular_param_to_enum</span><span class="p">(</span><span class="n">data_type</span><span class="p">,</span>
                                                               <span class="n">DataType</span><span class="p">),</span>
                        <span class="n">access_rights</span><span class="o">=</span><span class="n">parse_singular_param_to_enum</span><span class="p">(</span>
                            <span class="n">access_rights</span><span class="p">,</span> <span class="n">AccessRights</span><span class="p">),</span>
                        <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                <span class="k">return</span> <span class="n">fb</span>

            <span class="k">return</span> <span class="n">decorator</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">wrap</span></div>

<div class="viewcode-block" id="BindingApi.service_bus_topic_output"><a class="viewcode-back" href="../../../functions.decorators.html#functions.BindingApi.service_bus_topic_output">[docs]</a>    <span class="k">def</span> <span class="nf">service_bus_topic_output</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                 <span class="n">arg_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                 <span class="n">connection</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                 <span class="n">topic_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                 <span class="n">subscription_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                                 <span class="n">data_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
                                     <span class="n">Union</span><span class="p">[</span><span class="n">DataType</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                                 <span class="n">access_rights</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span>
                                     <span class="n">AccessRights</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                                 <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> \
            <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The service_bus_topic_output decorator adds</span>
<span class="sd">        :class:`ServiceBusTopicOutput` to the :class:`FunctionBuilder` object</span>
<span class="sd">        for building :class:`Function` object used in worker function</span>
<span class="sd">        indexing model. This is equivalent to defining ServiceBusTopicOutput</span>
<span class="sd">        in the function.json which enables function to write message(s) to</span>
<span class="sd">        the service bus topic.</span>
<span class="sd">        All optional fields will be given default value by function host when</span>
<span class="sd">        they are parsed by function host.</span>

<span class="sd">        Ref: https://aka.ms/azure-function-binding-service-bus</span>

<span class="sd">        :param arg_name: The name of the variable that represents service</span>
<span class="sd">        bus topic output object in function code.</span>
<span class="sd">        :param connection: The name of an app setting or setting collection</span>
<span class="sd">        that specifies how to connect to Service Bus.</span>
<span class="sd">        :param topic_name: Name of the topic to monitor.</span>
<span class="sd">        :param subscription_name: Name of the subscription to monitor.</span>
<span class="sd">        :param data_type: Defines how Functions runtime should treat the</span>
<span class="sd">        parameter value, defaults to DataType.UNDEFINED.</span>
<span class="sd">        :param access_rights: Access rights for the connection string.</span>
<span class="sd">        :return: Decorator function.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">_configure_function_builder</span>
        <span class="k">def</span> <span class="nf">wrap</span><span class="p">(</span><span class="n">fb</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">decorator</span><span class="p">():</span>
                <span class="n">fb</span><span class="o">.</span><span class="n">add_binding</span><span class="p">(</span>
                    <span class="n">binding</span><span class="o">=</span><span class="n">ServiceBusTopicOutput</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">arg_name</span><span class="p">,</span>
                        <span class="n">connection</span><span class="o">=</span><span class="n">connection</span><span class="p">,</span>
                        <span class="n">topic_name</span><span class="o">=</span><span class="n">topic_name</span><span class="p">,</span>
                        <span class="n">subscription_name</span><span class="o">=</span><span class="n">subscription_name</span><span class="p">,</span>
                        <span class="n">data_type</span><span class="o">=</span><span class="n">parse_singular_param_to_enum</span><span class="p">(</span><span class="n">data_type</span><span class="p">,</span>
                                                               <span class="n">DataType</span><span class="p">),</span>
                        <span class="n">access_rights</span><span class="o">=</span><span class="n">parse_singular_param_to_enum</span><span class="p">(</span>
                            <span class="n">access_rights</span><span class="p">,</span>
                            <span class="n">AccessRights</span><span class="p">),</span>
                        <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                <span class="k">return</span> <span class="n">fb</span>

            <span class="k">return</span> <span class="n">decorator</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">wrap</span></div>

<div class="viewcode-block" id="BindingApi.queue_output"><a class="viewcode-back" href="../../../functions.decorators.html#functions.BindingApi.queue_output">[docs]</a>    <span class="k">def</span> <span class="nf">queue_output</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                     <span class="n">arg_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                     <span class="n">queue_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                     <span class="n">connection</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                     <span class="n">data_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">DataType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                     <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The queue_output decorator adds :class:`QueueOutput` to the</span>
<span class="sd">        :class:`FunctionBuilder` object</span>
<span class="sd">        for building :class:`Function` object used in worker function</span>
<span class="sd">        indexing model. This is equivalent to defining QueueOutput</span>
<span class="sd">        in the function.json which enables function to write message(s) to</span>
<span class="sd">        the storage queue.</span>
<span class="sd">        All optional fields will be given default value by function host when</span>
<span class="sd">        they are parsed by function host.</span>

<span class="sd">        Ref: https://aka.ms/azure-function-binding-queue</span>

<span class="sd">        :param arg_name: The name of the variable that represents storage</span>
<span class="sd">        queue output object in function code.</span>
<span class="sd">        :param queue_name: The name of the queue to poll.</span>
<span class="sd">        :param connection: The name of an app setting or setting collection</span>
<span class="sd">        that specifies how to connect to Azure Queues.</span>
<span class="sd">        :param data_type: Defines how Functions runtime should treat the</span>
<span class="sd">         parameter value.</span>
<span class="sd">        :param kwargs: Keyword arguments for specifying additional binding</span>
<span class="sd">        fields to include in the binding json.</span>

<span class="sd">        :return: Decorator function.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">_configure_function_builder</span>
        <span class="k">def</span> <span class="nf">wrap</span><span class="p">(</span><span class="n">fb</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">decorator</span><span class="p">():</span>
                <span class="n">fb</span><span class="o">.</span><span class="n">add_binding</span><span class="p">(</span>
                    <span class="n">binding</span><span class="o">=</span><span class="n">QueueOutput</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">arg_name</span><span class="p">,</span>
                                        <span class="n">queue_name</span><span class="o">=</span><span class="n">queue_name</span><span class="p">,</span>
                                        <span class="n">connection</span><span class="o">=</span><span class="n">connection</span><span class="p">,</span>
                                        <span class="n">data_type</span><span class="o">=</span><span class="n">parse_singular_param_to_enum</span><span class="p">(</span>
                                            <span class="n">data_type</span><span class="p">,</span> <span class="n">DataType</span><span class="p">),</span>
                                        <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                <span class="k">return</span> <span class="n">fb</span>

            <span class="k">return</span> <span class="n">decorator</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">wrap</span></div>

<div class="viewcode-block" id="BindingApi.event_hub_output"><a class="viewcode-back" href="../../../functions.decorators.html#functions.BindingApi.event_hub_output">[docs]</a>    <span class="k">def</span> <span class="nf">event_hub_output</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                         <span class="n">arg_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                         <span class="n">connection</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                         <span class="n">event_hub_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                         <span class="n">data_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
                             <span class="n">Union</span><span class="p">[</span><span class="n">DataType</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                         <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> \
            <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The event_hub_output decorator adds</span>
<span class="sd">        :class:`EventHubOutput` to the :class:`FunctionBuilder` object</span>
<span class="sd">        for building :class:`Function` object used in worker function</span>
<span class="sd">        indexing model. This is equivalent to defining EventHubOutput</span>
<span class="sd">        in the function.json which enables function to write message(s) to</span>
<span class="sd">        the event hub.</span>
<span class="sd">        All optional fields will be given default value by function host when</span>
<span class="sd">        they are parsed by function host.</span>

<span class="sd">        Ref: https://aka.ms/azure-function-binding-event-hubs</span>

<span class="sd">        :param arg_name: The name of the variable that represents event hub</span>
<span class="sd">        output object in function code.</span>
<span class="sd">        :param connection: The name of an app setting or setting collection</span>
<span class="sd">        that specifies how to connect to Event Hub.</span>
<span class="sd">        :param event_hub_name: The name of the event hub.</span>
<span class="sd">        :param data_type: Defines how Functions runtime should treat the</span>
<span class="sd">        parameter value.</span>
<span class="sd">        :param kwargs: Keyword arguments for specifying additional binding</span>
<span class="sd">        fields to include in the binding json.</span>

<span class="sd">        :return: Decorator function.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">_configure_function_builder</span>
        <span class="k">def</span> <span class="nf">wrap</span><span class="p">(</span><span class="n">fb</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">decorator</span><span class="p">():</span>
                <span class="n">fb</span><span class="o">.</span><span class="n">add_binding</span><span class="p">(</span>
                    <span class="n">binding</span><span class="o">=</span><span class="n">EventHubOutput</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">arg_name</span><span class="p">,</span>
                        <span class="n">connection</span><span class="o">=</span><span class="n">connection</span><span class="p">,</span>
                        <span class="n">event_hub_name</span><span class="o">=</span><span class="n">event_hub_name</span><span class="p">,</span>
                        <span class="n">data_type</span><span class="o">=</span><span class="n">parse_singular_param_to_enum</span><span class="p">(</span><span class="n">data_type</span><span class="p">,</span>
                                                               <span class="n">DataType</span><span class="p">),</span>
                        <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                <span class="k">return</span> <span class="n">fb</span>

            <span class="k">return</span> <span class="n">decorator</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">wrap</span></div>

<div class="viewcode-block" id="BindingApi.cosmos_db_output_v3"><a class="viewcode-back" href="../../../functions.decorators.html#functions.BindingApi.cosmos_db_output_v3">[docs]</a>    <span class="k">def</span> <span class="nf">cosmos_db_output_v3</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                            <span class="n">arg_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                            <span class="n">database_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                            <span class="n">collection_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                            <span class="n">connection_string_setting</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                            <span class="n">create_if_not_exists</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                            <span class="n">partition_key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                            <span class="n">collection_throughput</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                            <span class="n">use_multiple_write_locations</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
                                <span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                            <span class="n">preferred_locations</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                            <span class="n">data_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
                                <span class="n">Union</span><span class="p">[</span><span class="n">DataType</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                            <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> \
            <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The cosmos_db_output_v3 decorator adds</span>
<span class="sd">        :class:`CosmosDBOutput` to the :class:`FunctionBuilder` object</span>
<span class="sd">        for building :class:`Function` object used in worker function</span>
<span class="sd">        indexing model. This decorator will work only with extension bundle 2.x</span>
<span class="sd">        or 3.x. For additional details, please refer </span>
<span class="sd">        https://aka.ms/cosmosdb-v4-update.</span>

<span class="sd">        This is equivalent to defining CosmosDBOutput</span>
<span class="sd">        in the function.json which enables function to write to the CosmosDB.</span>
<span class="sd">        All optional fields will be given default value by function host when</span>
<span class="sd">        they are parsed by function host.</span>

<span class="sd">        Ref: https://aka.ms/azure-function-binding-cosmosdb-v2</span>

<span class="sd">        :param arg_name: The name of the variable that represents CosmosDB</span>
<span class="sd">        output object in function code.</span>
<span class="sd">        :param database_name: The name of the Azure Cosmos DB database with</span>
<span class="sd">        the collection being monitored.</span>
<span class="sd">        :param collection_name: The name of the collection being monitored.</span>
<span class="sd">        :param connection_string_setting: The name of an app setting or</span>
<span class="sd">        setting collection that specifies how to connect to the Azure Cosmos</span>
<span class="sd">        DB account being monitored.</span>
<span class="sd">        :param create_if_not_exists: A boolean value to indicate whether the</span>
<span class="sd">        collection is created when it doesn&#39;t exist.</span>
<span class="sd">        :param partition_key: When CreateIfNotExists is true, it defines the</span>
<span class="sd">        partition key path for the created collection.</span>
<span class="sd">        :param collection_throughput: When CreateIfNotExists is true,</span>
<span class="sd">        it defines the throughput of the created collection.</span>
<span class="sd">        :param use_multiple_write_locations: When set to true along with</span>
<span class="sd">        PreferredLocations, it can leverage multi-region writes in the Azure</span>
<span class="sd">        Cosmos DB service.</span>
<span class="sd">        :param preferred_locations: Defines preferred locations (regions)</span>
<span class="sd">        for geo-replicated database accounts in the Azure Cosmos DB service.</span>
<span class="sd">        :param data_type: Defines how Functions runtime should treat the</span>
<span class="sd">        parameter value.</span>
<span class="sd">        :param kwargs: Keyword arguments for specifying additional binding</span>
<span class="sd">        fields to include in the binding json.</span>

<span class="sd">        :return: Decorator function.</span>
<span class="sd">        </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">_configure_function_builder</span>
        <span class="k">def</span> <span class="nf">wrap</span><span class="p">(</span><span class="n">fb</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">decorator</span><span class="p">():</span>
                <span class="n">fb</span><span class="o">.</span><span class="n">add_binding</span><span class="p">(</span>
                    <span class="n">binding</span><span class="o">=</span><span class="n">CosmosDBOutputV3</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">arg_name</span><span class="p">,</span>
                        <span class="n">database_name</span><span class="o">=</span><span class="n">database_name</span><span class="p">,</span>
                        <span class="n">collection_name</span><span class="o">=</span><span class="n">collection_name</span><span class="p">,</span>
                        <span class="n">connection_string_setting</span><span class="o">=</span><span class="n">connection_string_setting</span><span class="p">,</span>
                        <span class="n">create_if_not_exists</span><span class="o">=</span><span class="n">create_if_not_exists</span><span class="p">,</span>
                        <span class="n">partition_key</span><span class="o">=</span><span class="n">partition_key</span><span class="p">,</span>
                        <span class="n">collection_throughput</span><span class="o">=</span><span class="n">collection_throughput</span><span class="p">,</span>
                        <span class="n">use_multiple_write_locations</span><span class="o">=</span><span class="n">use_multiple_write_locations</span><span class="p">,</span>  <span class="c1"># NoQA</span>
                        <span class="n">preferred_locations</span><span class="o">=</span><span class="n">preferred_locations</span><span class="p">,</span>
                        <span class="n">data_type</span><span class="o">=</span><span class="n">parse_singular_param_to_enum</span><span class="p">(</span><span class="n">data_type</span><span class="p">,</span>
                                                               <span class="n">DataType</span><span class="p">),</span>
                        <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                <span class="k">return</span> <span class="n">fb</span>

            <span class="k">return</span> <span class="n">decorator</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">wrap</span></div>

<div class="viewcode-block" id="BindingApi.cosmos_db_output"><a class="viewcode-back" href="../../../functions.decorators.html#functions.BindingApi.cosmos_db_output">[docs]</a>    <span class="k">def</span> <span class="nf">cosmos_db_output</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                         <span class="n">arg_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                         <span class="n">connection</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                         <span class="n">database_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                         <span class="n">container_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                         <span class="n">create_if_not_exists</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                         <span class="n">partition_key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                         <span class="n">container_throughput</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                         <span class="n">preferred_locations</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                         <span class="n">data_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
                             <span class="n">Union</span><span class="p">[</span><span class="n">DataType</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                         <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> \
            <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The cosmos_db_output decorator adds</span>
<span class="sd">        :class:`CosmosDBOutput` to the :class:`FunctionBuilder` object</span>
<span class="sd">        for building :class:`Function` object used in worker function</span>
<span class="sd">        indexing model. This decorator will work only with extension bundle 4.x</span>
<span class="sd">        and above. For additional details, please refer</span>
<span class="sd">        https://aka.ms/cosmosdb-v4-update.</span>
<span class="sd">        This is equivalent to defining CosmosDBOutput</span>
<span class="sd">        in the function.json which enables function to write to the CosmosDB.</span>
<span class="sd">        All optional fields will be given default value by function host when</span>
<span class="sd">        they are parsed by function host.</span>

<span class="sd">        Ref: https://aka.ms/azure-function-binding-cosmosdb-v4</span>

<span class="sd">        :param arg_name: The name of the variable that represents CosmosDB</span>
<span class="sd">        output object in function code.</span>
<span class="sd">        :param connection: The name of an app setting or</span>
<span class="sd">        setting collection that specifies how to connect to the Azure Cosmos</span>
<span class="sd">        DB account being monitored</span>
<span class="sd">        :param database_name: The name of the Azure Cosmos DB database with</span>
<span class="sd">        the collection being monitored</span>
<span class="sd">        :param container_name: The name of the container being monitored</span>
<span class="sd">        :param create_if_not_exists: A boolean value to indicate whether the</span>
<span class="sd">        collection is created when it doesn&#39;t exist</span>
<span class="sd">        :param partition_key: When CreateIfNotExists is true, it defines the</span>
<span class="sd">        partition key path for the created collection</span>
<span class="sd">        :param container_throughput: When createIfNotExists is true, it defines</span>
<span class="sd">        the throughput of the created container</span>
<span class="sd">        PreferredLocations, it can leverage multi-region writes in the Azure</span>
<span class="sd">        Cosmos DB service</span>
<span class="sd">        :param preferred_locations: Defines preferred locations (regions)</span>
<span class="sd">        for geo-replicated database accounts in the Azure Cosmos DB service</span>
<span class="sd">        :param data_type: Defines how Functions runtime should treat the</span>
<span class="sd">        parameter value</span>
<span class="sd">        :param kwargs: Keyword arguments for specifying additional binding</span>
<span class="sd">        fields to include in the binding json</span>

<span class="sd">        :return: Decorator function.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">_configure_function_builder</span>
        <span class="k">def</span> <span class="nf">wrap</span><span class="p">(</span><span class="n">fb</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">decorator</span><span class="p">():</span>
                <span class="n">fb</span><span class="o">.</span><span class="n">add_binding</span><span class="p">(</span>
                    <span class="n">binding</span><span class="o">=</span><span class="n">CosmosDBOutput</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">arg_name</span><span class="p">,</span>
                        <span class="n">connection</span><span class="o">=</span><span class="n">connection</span><span class="p">,</span>
                        <span class="n">database_name</span><span class="o">=</span><span class="n">database_name</span><span class="p">,</span>
                        <span class="n">container_name</span><span class="o">=</span><span class="n">container_name</span><span class="p">,</span>
                        <span class="n">create_if_not_exists</span><span class="o">=</span><span class="n">create_if_not_exists</span><span class="p">,</span>
                        <span class="n">partition_key</span><span class="o">=</span><span class="n">partition_key</span><span class="p">,</span>
                        <span class="n">container_throughput</span><span class="o">=</span><span class="n">container_throughput</span><span class="p">,</span>
                        <span class="n">preferred_locations</span><span class="o">=</span><span class="n">preferred_locations</span><span class="p">,</span>
                        <span class="n">data_type</span><span class="o">=</span><span class="n">parse_singular_param_to_enum</span><span class="p">(</span><span class="n">data_type</span><span class="p">,</span>
                                                               <span class="n">DataType</span><span class="p">),</span>
                        <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                <span class="k">return</span> <span class="n">fb</span>

            <span class="k">return</span> <span class="n">decorator</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">wrap</span></div>

<div class="viewcode-block" id="BindingApi.cosmos_db_input_v3"><a class="viewcode-back" href="../../../functions.decorators.html#functions.BindingApi.cosmos_db_input_v3">[docs]</a>    <span class="k">def</span> <span class="nf">cosmos_db_input_v3</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                           <span class="n">arg_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                           <span class="n">database_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                           <span class="n">collection_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                           <span class="n">connection_string_setting</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                           <span class="nb">id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                           <span class="n">sql_query</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                           <span class="n">partition_key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                           <span class="n">data_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
                               <span class="n">Union</span><span class="p">[</span><span class="n">DataType</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                           <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> \
            <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The cosmos_db_input_v3 decorator adds</span>
<span class="sd">        :class:`CosmosDBInput` to the :class:`FunctionBuilder` object</span>
<span class="sd">        for building :class:`Function` object used in worker function</span>
<span class="sd">        indexing model. This decorator will work only with extension bundle 2.x</span>
<span class="sd">        or 3.x. For additional details, please refer</span>
<span class="sd">        https://aka.ms/cosmosdb-v4-update.</span>
<span class="sd">        This is equivalent to defining CosmosDBInput</span>
<span class="sd">        in the function.json which enables function to read from CosmosDB.</span>
<span class="sd">        All optional fields will be given default value by function host when</span>
<span class="sd">        they are parsed by function host.</span>

<span class="sd">        Ref: https://aka.ms/azure-function-binding-cosmosdb-v2</span>

<span class="sd">        :param arg_name: The name of the variable that represents</span>
<span class="sd">        :class:`DocumentList` input object in function code.</span>
<span class="sd">        :param database_name: The database containing the document.</span>
<span class="sd">        :param collection_name: The name of the collection that contains the</span>
<span class="sd">        document.</span>
<span class="sd">        :param connection_string_setting: The name of the app setting</span>
<span class="sd">        containing your Azure Cosmos DB connection string.</span>
<span class="sd">        :param id: The ID of the document to retrieve.</span>
<span class="sd">        :param sql_query: An Azure Cosmos DB SQL query used for retrieving</span>
<span class="sd">        multiple documents.</span>
<span class="sd">        :param partition_key: Specifies the partition key value for the</span>
<span class="sd">        lookup.</span>
<span class="sd">        :param data_type: Defines how Functions runtime should treat the</span>
<span class="sd">        parameter value.</span>
<span class="sd">        :param kwargs: Keyword arguments for specifying additional binding</span>
<span class="sd">        fields to include in the binding json.</span>

<span class="sd">        :return: Decorator function.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">_configure_function_builder</span>
        <span class="k">def</span> <span class="nf">wrap</span><span class="p">(</span><span class="n">fb</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">decorator</span><span class="p">():</span>
                <span class="n">fb</span><span class="o">.</span><span class="n">add_binding</span><span class="p">(</span>
                    <span class="n">binding</span><span class="o">=</span><span class="n">CosmosDBInputV3</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">arg_name</span><span class="p">,</span>
                        <span class="n">database_name</span><span class="o">=</span><span class="n">database_name</span><span class="p">,</span>
                        <span class="n">collection_name</span><span class="o">=</span><span class="n">collection_name</span><span class="p">,</span>
                        <span class="n">connection_string_setting</span><span class="o">=</span><span class="n">connection_string_setting</span><span class="p">,</span>
                        <span class="nb">id</span><span class="o">=</span><span class="nb">id</span><span class="p">,</span>
                        <span class="n">sql_query</span><span class="o">=</span><span class="n">sql_query</span><span class="p">,</span>
                        <span class="n">partition_key</span><span class="o">=</span><span class="n">partition_key</span><span class="p">,</span>
                        <span class="n">data_type</span><span class="o">=</span><span class="n">parse_singular_param_to_enum</span><span class="p">(</span><span class="n">data_type</span><span class="p">,</span>
                                                               <span class="n">DataType</span><span class="p">),</span>
                        <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                <span class="k">return</span> <span class="n">fb</span>

            <span class="k">return</span> <span class="n">decorator</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">wrap</span></div>

<div class="viewcode-block" id="BindingApi.cosmos_db_input"><a class="viewcode-back" href="../../../functions.decorators.html#functions.BindingApi.cosmos_db_input">[docs]</a>    <span class="k">def</span> <span class="nf">cosmos_db_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                        <span class="n">arg_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                        <span class="n">connection</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                        <span class="n">database_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                        <span class="n">container_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                        <span class="n">partition_key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                        <span class="nb">id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                        <span class="n">sql_query</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                        <span class="n">preferred_locations</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                        <span class="n">data_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
                            <span class="n">Union</span><span class="p">[</span><span class="n">DataType</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                        <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> \
            <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The cosmos_db_input decorator adds</span>
<span class="sd">        :class:`CosmosDBInput` to the :class:`FunctionBuilder` object</span>
<span class="sd">        for building :class:`Function` object used in worker function</span>
<span class="sd">        indexing model. This decorator will work only with extension bundle 4.x</span>
<span class="sd">        and above. For additional details, please refer</span>
<span class="sd">        https://aka.ms/cosmosdb-v4-update.</span>
<span class="sd">        This is equivalent to defining CosmosDBInput in the function.json which</span>
<span class="sd">         enables function to read from CosmosDB.</span>
<span class="sd">        All optional fields will be given default value by function host when</span>
<span class="sd">        they are parsed by function host.</span>

<span class="sd">        Ref: https://aka.ms/azure-function-binding-cosmosdb-v4</span>

<span class="sd">        :param arg_name: The name of the variable that represents</span>
<span class="sd">        :class:`DocumentList` input object in function code</span>
<span class="sd">        :param connection: The name of an app setting or setting container that</span>
<span class="sd">         specifies how to connect to the Azure Cosmos DB account being</span>
<span class="sd">         monitored containing your Azure Cosmos DB connection string</span>
<span class="sd">        :param database_name: The database containing the document</span>
<span class="sd">        :param container_name: The name of the container that contains the</span>
<span class="sd">        document</span>
<span class="sd">        :param partition_key: Specifies the partition key value for the</span>
<span class="sd">        lookup</span>
<span class="sd">        :param id: The ID of the document to retrieve</span>
<span class="sd">        :param sql_query: An Azure Cosmos DB SQL query used for retrieving</span>
<span class="sd">        multiple documents</span>
<span class="sd">        :param preferred_locations: (Optional) Defines preferred locations</span>
<span class="sd">        (regions) for geo-replicated database accounts in the Azure Cosmos DB</span>
<span class="sd">        service. Values should be comma-separated. For example, East US,South</span>
<span class="sd">        Central US,North Europe</span>
<span class="sd">        :param data_type: Defines how Functions runtime should treat the</span>
<span class="sd">        parameter value</span>
<span class="sd">        :param kwargs: Keyword arguments for specifying additional binding</span>
<span class="sd">        fields to include in the binding json</span>

<span class="sd">        :return: Decorator function.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">_configure_function_builder</span>
        <span class="k">def</span> <span class="nf">wrap</span><span class="p">(</span><span class="n">fb</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">decorator</span><span class="p">():</span>
                <span class="n">fb</span><span class="o">.</span><span class="n">add_binding</span><span class="p">(</span>
                    <span class="n">binding</span><span class="o">=</span><span class="n">CosmosDBInput</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">arg_name</span><span class="p">,</span>
                        <span class="n">connection</span><span class="o">=</span><span class="n">connection</span><span class="p">,</span>
                        <span class="n">database_name</span><span class="o">=</span><span class="n">database_name</span><span class="p">,</span>
                        <span class="n">container_name</span><span class="o">=</span><span class="n">container_name</span><span class="p">,</span>
                        <span class="n">partition_key</span><span class="o">=</span><span class="n">partition_key</span><span class="p">,</span>
                        <span class="nb">id</span><span class="o">=</span><span class="nb">id</span><span class="p">,</span>
                        <span class="n">sql_query</span><span class="o">=</span><span class="n">sql_query</span><span class="p">,</span>
                        <span class="n">preferred_locations</span><span class="o">=</span><span class="n">preferred_locations</span><span class="p">,</span>
                        <span class="n">data_type</span><span class="o">=</span><span class="n">parse_singular_param_to_enum</span><span class="p">(</span><span class="n">data_type</span><span class="p">,</span>
                                                               <span class="n">DataType</span><span class="p">),</span>
                        <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                <span class="k">return</span> <span class="n">fb</span>

            <span class="k">return</span> <span class="n">decorator</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">wrap</span></div>

<div class="viewcode-block" id="BindingApi.blob_input"><a class="viewcode-back" href="../../../functions.decorators.html#functions.BindingApi.blob_input">[docs]</a>    <span class="k">def</span> <span class="nf">blob_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                   <span class="n">arg_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                   <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                   <span class="n">connection</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                   <span class="n">data_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">DataType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                   <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The blob_input decorator adds :class:`BlobInput` to the</span>
<span class="sd">        :class:`FunctionBuilder` object</span>
<span class="sd">        for building :class:`Function` object used in worker function</span>
<span class="sd">        indexing model. This is equivalent to defining BlobInput</span>
<span class="sd">        in the function.json which enables function to write message(s) to</span>
<span class="sd">        the storage blobs.</span>
<span class="sd">        All optional fields will be given default value by function host when</span>
<span class="sd">        they are parsed by function host.</span>

<span class="sd">        Ref: https://aka.ms/azure-function-binding-storage-blob</span>

<span class="sd">        :param arg_name: The name of the variable that represents the blob in</span>
<span class="sd">         function code.</span>
<span class="sd">        :param path: The path to the blob.</span>
<span class="sd">        :param connection: The name of an app setting or setting collection</span>
<span class="sd">        that specifies how to connect to Azure Blobs.</span>
<span class="sd">        :param data_type: Defines how Functions runtime should treat the</span>
<span class="sd">         parameter value.</span>
<span class="sd">        :param kwargs: Keyword arguments for specifying additional binding</span>
<span class="sd">        fields to include in the binding json.</span>

<span class="sd">        :return: Decorator function.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">_configure_function_builder</span>
        <span class="k">def</span> <span class="nf">wrap</span><span class="p">(</span><span class="n">fb</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">decorator</span><span class="p">():</span>
                <span class="n">fb</span><span class="o">.</span><span class="n">add_binding</span><span class="p">(</span>
                    <span class="n">binding</span><span class="o">=</span><span class="n">BlobInput</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">arg_name</span><span class="p">,</span>
                        <span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span>
                        <span class="n">connection</span><span class="o">=</span><span class="n">connection</span><span class="p">,</span>
                        <span class="n">data_type</span><span class="o">=</span><span class="n">parse_singular_param_to_enum</span><span class="p">(</span><span class="n">data_type</span><span class="p">,</span>
                                                               <span class="n">DataType</span><span class="p">),</span>
                        <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                <span class="k">return</span> <span class="n">fb</span>

            <span class="k">return</span> <span class="n">decorator</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">wrap</span></div>

<div class="viewcode-block" id="BindingApi.blob_output"><a class="viewcode-back" href="../../../functions.decorators.html#functions.BindingApi.blob_output">[docs]</a>    <span class="k">def</span> <span class="nf">blob_output</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                    <span class="n">arg_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                    <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                    <span class="n">connection</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                    <span class="n">data_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">DataType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The blob_output decorator adds :class:`BlobOutput` to the</span>
<span class="sd">        :class:`FunctionBuilder` object</span>
<span class="sd">        for building :class:`Function` object used in worker function</span>
<span class="sd">        indexing model. This is equivalent to defining BlobOutput</span>
<span class="sd">        in the function.json which enables function to write message(s) to</span>
<span class="sd">        the storage blobs.</span>
<span class="sd">        All optional fields will be given default value by function host when</span>
<span class="sd">        they are parsed by function host.</span>

<span class="sd">        Ref: https://aka.ms/azure-function-binding-storage-blob</span>

<span class="sd">        :param arg_name: The name of the variable that represents the blob in</span>
<span class="sd">         function code.</span>
<span class="sd">        :param path: The path to the blob.</span>
<span class="sd">        :param connection: The name of an app setting or setting collection</span>
<span class="sd">         that specifies how to connect to Azure Blobs.</span>
<span class="sd">        :param data_type: Defines how Functions runtime should treat the</span>
<span class="sd">         parameter value.</span>
<span class="sd">        :param kwargs: Keyword arguments for specifying additional binding</span>
<span class="sd">        fields to include in the binding json.</span>
<span class="sd">        :return: Decorator function.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">_configure_function_builder</span>
        <span class="k">def</span> <span class="nf">wrap</span><span class="p">(</span><span class="n">fb</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">decorator</span><span class="p">():</span>
                <span class="n">fb</span><span class="o">.</span><span class="n">add_binding</span><span class="p">(</span>
                    <span class="n">binding</span><span class="o">=</span><span class="n">BlobOutput</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">arg_name</span><span class="p">,</span>
                        <span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span>
                        <span class="n">connection</span><span class="o">=</span><span class="n">connection</span><span class="p">,</span>
                        <span class="n">data_type</span><span class="o">=</span><span class="n">parse_singular_param_to_enum</span><span class="p">(</span><span class="n">data_type</span><span class="p">,</span>
                                                               <span class="n">DataType</span><span class="p">),</span>
                        <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                <span class="k">return</span> <span class="n">fb</span>

            <span class="k">return</span> <span class="n">decorator</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">wrap</span></div>

<div class="viewcode-block" id="BindingApi.event_grid_output"><a class="viewcode-back" href="../../../functions.decorators.html#functions.BindingApi.event_grid_output">[docs]</a>    <span class="k">def</span> <span class="nf">event_grid_output</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                          <span class="n">arg_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                          <span class="n">topic_endpoint_uri</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                          <span class="n">topic_key_setting</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                          <span class="n">data_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
                              <span class="n">Union</span><span class="p">[</span><span class="n">DataType</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                          <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The event_grid_output decorator adds</span>
<span class="sd">        :class:`EventGridOutput`</span>
<span class="sd">        to the :class:`FunctionBuilder` object</span>
<span class="sd">        for building :class:`Function` object used in worker function</span>
<span class="sd">        indexing model. This is equivalent to defining output binding</span>
<span class="sd">        in the function.json which enables function to</span>
<span class="sd">        write events to a custom topic.</span>
<span class="sd">        All optional fields will be given default value by function host when</span>
<span class="sd">        they are parsed by function host.</span>

<span class="sd">        Ref: https://aka.ms/eventgridtrigger</span>

<span class="sd">        :param arg_name: The variable name used in function code that</span>
<span class="sd">        represents the event.</span>
<span class="sd">        :param data_type: Defines how Functions runtime should treat the</span>
<span class="sd">        parameter value.</span>
<span class="sd">        :param topic_endpoint_uri: 	The name of an app setting that</span>
<span class="sd">        contains the URI for the custom topic.</span>
<span class="sd">        :param topic_key_setting: The name of an app setting that</span>
<span class="sd">        contains an access key for the custom topic.</span>
<span class="sd">        :return: Decorator function.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">_configure_function_builder</span>
        <span class="k">def</span> <span class="nf">wrap</span><span class="p">(</span><span class="n">fb</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">decorator</span><span class="p">():</span>
                <span class="n">fb</span><span class="o">.</span><span class="n">add_binding</span><span class="p">(</span>
                    <span class="n">binding</span><span class="o">=</span><span class="n">EventGridOutput</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">arg_name</span><span class="p">,</span>
                        <span class="n">topic_endpoint_uri</span><span class="o">=</span><span class="n">topic_endpoint_uri</span><span class="p">,</span>
                        <span class="n">topic_key_setting</span><span class="o">=</span><span class="n">topic_key_setting</span><span class="p">,</span>
                        <span class="n">data_type</span><span class="o">=</span><span class="n">parse_singular_param_to_enum</span><span class="p">(</span><span class="n">data_type</span><span class="p">,</span>
                                                               <span class="n">DataType</span><span class="p">),</span>
                        <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                <span class="k">return</span> <span class="n">fb</span>

            <span class="k">return</span> <span class="n">decorator</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">wrap</span></div>

<div class="viewcode-block" id="BindingApi.table_input"><a class="viewcode-back" href="../../../functions.decorators.html#functions.BindingApi.table_input">[docs]</a>    <span class="k">def</span> <span class="nf">table_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                    <span class="n">arg_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                    <span class="n">connection</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                    <span class="n">table_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                    <span class="n">row_key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">partition_key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">take</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="nb">filter</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">data_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
                        <span class="n">Union</span><span class="p">[</span><span class="n">DataType</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The table_input decorator adds :class:`TableInput` to the</span>
<span class="sd">        :class:`FunctionBuilder` object</span>
<span class="sd">        for building :class:`Function` object used in worker function</span>
<span class="sd">        indexing model. This is equivalent to defining TableInput</span>
<span class="sd">        in the function.json which enables function to read a table in</span>
<span class="sd">        an Azure Storage or Cosmos DB account</span>
<span class="sd">        All optional fields will be given default value by function host when</span>
<span class="sd">        they are parsed by function host.</span>

<span class="sd">        Ref: https://aka.ms/tablesbindings</span>

<span class="sd">        :param arg_name: The name of the variable that represents</span>
<span class="sd">        the table or entity in function code.</span>
<span class="sd">        :param connection: The name of an app setting or setting collection</span>
<span class="sd">        that specifies how to connect to the table service.</span>
<span class="sd">        :param table_name: The Name of the table</span>
<span class="sd">        :param row_key: The row key of the table entity to read.</span>
<span class="sd">        :param partition_key: The partition key of the table entity to read.</span>
<span class="sd">        :param take: The maximum number of entities to return</span>
<span class="sd">        :param filter: An OData filter expression for the entities to return</span>
<span class="sd">         from the table.</span>
<span class="sd">        :param data_type: Defines how Functions runtime should treat the</span>
<span class="sd">         parameter value.</span>
<span class="sd">        :return: Decorator function.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">_configure_function_builder</span>
        <span class="k">def</span> <span class="nf">wrap</span><span class="p">(</span><span class="n">fb</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">decorator</span><span class="p">():</span>
                <span class="n">fb</span><span class="o">.</span><span class="n">add_binding</span><span class="p">(</span>
                    <span class="n">binding</span><span class="o">=</span><span class="n">TableInput</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">arg_name</span><span class="p">,</span>
                        <span class="n">connection</span><span class="o">=</span><span class="n">connection</span><span class="p">,</span>
                        <span class="n">table_name</span><span class="o">=</span><span class="n">table_name</span><span class="p">,</span>
                        <span class="n">row_key</span><span class="o">=</span><span class="n">row_key</span><span class="p">,</span>
                        <span class="n">partition_key</span><span class="o">=</span><span class="n">partition_key</span><span class="p">,</span>
                        <span class="n">take</span><span class="o">=</span><span class="n">take</span><span class="p">,</span>
                        <span class="nb">filter</span><span class="o">=</span><span class="nb">filter</span><span class="p">,</span>
                        <span class="n">data_type</span><span class="o">=</span><span class="n">parse_singular_param_to_enum</span><span class="p">(</span><span class="n">data_type</span><span class="p">,</span>
                                                               <span class="n">DataType</span><span class="p">)))</span>
                <span class="k">return</span> <span class="n">fb</span>

            <span class="k">return</span> <span class="n">decorator</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">wrap</span></div>

<div class="viewcode-block" id="BindingApi.table_output"><a class="viewcode-back" href="../../../functions.decorators.html#functions.BindingApi.table_output">[docs]</a>    <span class="k">def</span> <span class="nf">table_output</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                     <span class="n">arg_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                     <span class="n">connection</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                     <span class="n">table_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                     <span class="n">row_key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                     <span class="n">partition_key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                     <span class="n">data_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
                         <span class="n">Union</span><span class="p">[</span><span class="n">DataType</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The table_output decorator adds :class:`TableOutput` to the</span>
<span class="sd">        :class:`FunctionBuilder` object</span>
<span class="sd">        for building :class:`Function` object used in worker function</span>
<span class="sd">        indexing model. This is equivalent to defining TableOutput</span>
<span class="sd">        in the function.json which enables function to write entities</span>
<span class="sd">        to a table in an Azure Storage</span>
<span class="sd">        All optional fields will be given default value by function host when</span>
<span class="sd">        they are parsed by function host.</span>

<span class="sd">        Ref: https://aka.ms/tablesbindings</span>

<span class="sd">        :param arg_name: The name of the variable that represents</span>
<span class="sd">        the table or entity in function code.</span>
<span class="sd">        :param connection: The name of an app setting or setting collection</span>
<span class="sd">        that specifies how to connect to the table service.</span>
<span class="sd">        :param table_name: The Name of the table</span>
<span class="sd">        :param row_key: The row key of the table entity to read.</span>
<span class="sd">        :param partition_key: The partition key of the table entity to read.</span>
<span class="sd">        :param data_type: Defines how Functions runtime should treat the</span>
<span class="sd">         parameter value.</span>
<span class="sd">        :return: Decorator function.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">_configure_function_builder</span>
        <span class="k">def</span> <span class="nf">wrap</span><span class="p">(</span><span class="n">fb</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">decorator</span><span class="p">():</span>
                <span class="n">fb</span><span class="o">.</span><span class="n">add_binding</span><span class="p">(</span>
                    <span class="n">binding</span><span class="o">=</span><span class="n">TableOutput</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">arg_name</span><span class="p">,</span>
                        <span class="n">connection</span><span class="o">=</span><span class="n">connection</span><span class="p">,</span>
                        <span class="n">table_name</span><span class="o">=</span><span class="n">table_name</span><span class="p">,</span>
                        <span class="n">row_key</span><span class="o">=</span><span class="n">row_key</span><span class="p">,</span>
                        <span class="n">partition_key</span><span class="o">=</span><span class="n">partition_key</span><span class="p">,</span>
                        <span class="n">data_type</span><span class="o">=</span><span class="n">parse_singular_param_to_enum</span><span class="p">(</span><span class="n">data_type</span><span class="p">,</span>
                                                               <span class="n">DataType</span><span class="p">)))</span>
                <span class="k">return</span> <span class="n">fb</span>

            <span class="k">return</span> <span class="n">decorator</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">wrap</span></div>

<div class="viewcode-block" id="BindingApi.generic_input_binding"><a class="viewcode-back" href="../../../functions.decorators.html#functions.BindingApi.generic_input_binding">[docs]</a>    <span class="k">def</span> <span class="nf">generic_input_binding</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                              <span class="n">arg_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                              <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                              <span class="n">data_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">DataType</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                              <span class="o">**</span><span class="n">kwargs</span>
                              <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The generic_input_binding decorator adds :class:`GenericInputBinding`</span>
<span class="sd">        to the :class:`FunctionBuilder` object for building :class:`Function`</span>
<span class="sd">        object used in worker function indexing model.</span>
<span class="sd">        This is equivalent to defining a generic input binding in the</span>
<span class="sd">        function.json which enables function to read data from a</span>
<span class="sd">        custom defined input source.</span>
<span class="sd">        All optional fields will be given default value by function host when</span>
<span class="sd">        they are parsed by function host.</span>

<span class="sd">        Ref: https://aka.ms/azure-function-binding-custom</span>

<span class="sd">        :param arg_name: The name of input parameter in the function code.</span>
<span class="sd">        :param type: The type of binding.</span>
<span class="sd">        :param data_type: Defines how Functions runtime should treat the</span>
<span class="sd">         parameter value.</span>
<span class="sd">        :param kwargs: Keyword arguments for specifying additional binding</span>
<span class="sd">        fields to include in the binding json.</span>

<span class="sd">        :return: Decorator function.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">_configure_function_builder</span>
        <span class="k">def</span> <span class="nf">wrap</span><span class="p">(</span><span class="n">fb</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">decorator</span><span class="p">():</span>
                <span class="n">fb</span><span class="o">.</span><span class="n">add_binding</span><span class="p">(</span>
                    <span class="n">binding</span><span class="o">=</span><span class="n">GenericInputBinding</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">arg_name</span><span class="p">,</span>
                        <span class="nb">type</span><span class="o">=</span><span class="nb">type</span><span class="p">,</span>
                        <span class="n">data_type</span><span class="o">=</span><span class="n">parse_singular_param_to_enum</span><span class="p">(</span><span class="n">data_type</span><span class="p">,</span>
                                                               <span class="n">DataType</span><span class="p">),</span>
                        <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                <span class="k">return</span> <span class="n">fb</span>

            <span class="k">return</span> <span class="n">decorator</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">wrap</span></div>

<div class="viewcode-block" id="BindingApi.generic_output_binding"><a class="viewcode-back" href="../../../functions.decorators.html#functions.BindingApi.generic_output_binding">[docs]</a>    <span class="k">def</span> <span class="nf">generic_output_binding</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                               <span class="n">arg_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                               <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                               <span class="n">data_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
                                   <span class="n">Union</span><span class="p">[</span><span class="n">DataType</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                               <span class="o">**</span><span class="n">kwargs</span>
                               <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The generic_output_binding decorator adds :class:`GenericOutputBinding`</span>
<span class="sd">        to the :class:`FunctionBuilder` object for building :class:`Function`</span>
<span class="sd">        object used in worker function indexing model.</span>
<span class="sd">        This is equivalent to defining a generic output binding in the</span>
<span class="sd">        function.json which enables function to write data from a</span>
<span class="sd">        custom defined output source.</span>
<span class="sd">        All optional fields will be given default value by function host when</span>
<span class="sd">        they are parsed by function host.</span>

<span class="sd">        Ref: https://aka.ms/azure-function-binding-custom</span>

<span class="sd">        :param arg_name: The name of output parameter in the function code.</span>
<span class="sd">        :param type: The type of binding.</span>
<span class="sd">        :param data_type: Defines how Functions runtime should treat the</span>
<span class="sd">         parameter value.</span>
<span class="sd">        :param kwargs: Keyword arguments for specifying additional binding</span>
<span class="sd">        fields to include in the binding json.</span>

<span class="sd">        :return: Decorator function.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">_configure_function_builder</span>
        <span class="k">def</span> <span class="nf">wrap</span><span class="p">(</span><span class="n">fb</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">decorator</span><span class="p">():</span>
                <span class="n">fb</span><span class="o">.</span><span class="n">add_binding</span><span class="p">(</span>
                    <span class="n">binding</span><span class="o">=</span><span class="n">GenericOutputBinding</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">arg_name</span><span class="p">,</span>
                        <span class="nb">type</span><span class="o">=</span><span class="nb">type</span><span class="p">,</span>
                        <span class="n">data_type</span><span class="o">=</span><span class="n">parse_singular_param_to_enum</span><span class="p">(</span><span class="n">data_type</span><span class="p">,</span>
                                                               <span class="n">DataType</span><span class="p">),</span>
                        <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
                <span class="k">return</span> <span class="n">fb</span>

            <span class="k">return</span> <span class="n">decorator</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">wrap</span></div></div>


<div class="viewcode-block" id="FunctionRegister"><a class="viewcode-back" href="../../../functions.decorators.html#functions.FunctionRegister">[docs]</a><span class="k">class</span> <span class="nc">FunctionRegister</span><span class="p">(</span><span class="n">DecoratorApi</span><span class="p">,</span> <span class="n">HttpFunctionsAuthLevelMixin</span><span class="p">,</span> <span class="n">ABC</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">auth_level</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">AuthLevel</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Interface for declaring top level function app class which will</span>
<span class="sd">        be directly indexed by Python Function runtime.</span>

<span class="sd">        :param auth_level: Determines what keys, if any, need to be present</span>
<span class="sd">        on the request in order to invoke the function.</span>
<span class="sd">        :param args: Variable length argument list.</span>
<span class="sd">        :param kwargs: Arbitrary keyword arguments.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">DecoratorApi</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">HttpFunctionsAuthLevelMixin</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">auth_level</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_require_auth_level</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

<div class="viewcode-block" id="FunctionRegister.get_functions"><a class="viewcode-back" href="../../../functions.decorators.html#functions.FunctionRegister.get_functions">[docs]</a>    <span class="k">def</span> <span class="nf">get_functions</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Function</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the function objects in the function app.</span>

<span class="sd">        :return: List of functions in the function app.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">functions</span> <span class="o">=</span> <span class="p">[</span><span class="n">function_builder</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">auth_level</span><span class="p">)</span>
                     <span class="k">for</span> <span class="n">function_builder</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_function_builders</span><span class="p">]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_require_auth_level</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_require_auth_level</span> <span class="o">=</span> <span class="nb">any</span><span class="p">(</span>
                <span class="n">function</span><span class="o">.</span><span class="n">is_http_function</span><span class="p">()</span> <span class="k">for</span> <span class="n">function</span> <span class="ow">in</span> <span class="n">functions</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_require_auth_level</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s1">&#39;Auth level is not applied to non http &#39;</span>
                <span class="s1">&#39;function app. Ref: &#39;</span>
                <span class="s1">&#39;https://docs.microsoft.com/azure/azure-functions/functions&#39;</span>
                <span class="s1">&#39;-bindings-http-webhook-trigger?tabs=in-process&#39;</span>
                <span class="s1">&#39;%2Cfunctionsv2&amp;pivots=programming-language-python#http-auth&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">functions</span></div>

<div class="viewcode-block" id="FunctionRegister.register_functions"><a class="viewcode-back" href="../../../functions.decorators.html#functions.FunctionRegister.register_functions">[docs]</a>    <span class="k">def</span> <span class="nf">register_functions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">function_container</span><span class="p">:</span> <span class="n">DecoratorApi</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Register a list of functions in the function app.</span>

<span class="sd">        :param function_container: Instance extending :class:`DecoratorApi`</span>
<span class="sd">        which contains a list of functions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">function_container</span><span class="p">,</span> <span class="n">FunctionRegister</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;functions can not be type of FunctionRegister!&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_function_builders</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">function_container</span><span class="o">.</span><span class="n">_function_builders</span><span class="p">)</span></div>

    <span class="n">register_blueprint</span> <span class="o">=</span> <span class="n">register_functions</span></div>


<div class="viewcode-block" id="FunctionApp"><a class="viewcode-back" href="../../../functions.decorators.html#functions.FunctionApp">[docs]</a><span class="k">class</span> <span class="nc">FunctionApp</span><span class="p">(</span><span class="n">FunctionRegister</span><span class="p">,</span> <span class="n">TriggerApi</span><span class="p">,</span> <span class="n">BindingApi</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;FunctionApp object used by worker function indexing model captures</span>
<span class="sd">    user defined functions and metadata.</span>

<span class="sd">    Ref: https://aka.ms/azure-function-ref</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">http_auth_level</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">AuthLevel</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">AuthLevel</span><span class="o">.</span><span class="n">FUNCTION</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructor of :class:`FunctionApp` object.</span>

<span class="sd">        :param http_auth_level: Determines what keys, if any, need to be</span>
<span class="sd">        present</span>
<span class="sd">        on the request in order to invoke the function.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">auth_level</span><span class="o">=</span><span class="n">http_auth_level</span><span class="p">)</span></div>


<div class="viewcode-block" id="Blueprint"><a class="viewcode-back" href="../../../functions.decorators.html#functions.Blueprint">[docs]</a><span class="k">class</span> <span class="nc">Blueprint</span><span class="p">(</span><span class="n">TriggerApi</span><span class="p">,</span> <span class="n">BindingApi</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Functions container class where all the functions</span>
<span class="sd">    loaded in it can be registered in :class:`FunctionRegister` subclasses</span>
<span class="sd">    but itself can not be indexed directly. The class contains all existing</span>
<span class="sd">    supported trigger and binding decorator functions.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span></div>


<div class="viewcode-block" id="ExternalHttpFunctionApp"><a class="viewcode-back" href="../../../functions.decorators.html#functions.ExternalHttpFunctionApp">[docs]</a><span class="k">class</span> <span class="nc">ExternalHttpFunctionApp</span><span class="p">(</span><span class="n">FunctionRegister</span><span class="p">,</span> <span class="n">TriggerApi</span><span class="p">,</span> <span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Interface to extend for building third party http function apps.&quot;&quot;&quot;</span>

    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">_add_http_app</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                      <span class="n">http_middleware</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
                          <span class="n">AsgiMiddleware</span><span class="p">,</span> <span class="n">WsgiMiddleware</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add a Wsgi or Asgi app integrated http function.</span>

<span class="sd">        :param http_middleware: :class:`WsgiMiddleware`</span>
<span class="sd">                                or class:`AsgiMiddleware` instance.</span>

<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div>


<div class="viewcode-block" id="AsgiFunctionApp"><a class="viewcode-back" href="../../../functions.decorators.html#functions.AsgiFunctionApp">[docs]</a><span class="k">class</span> <span class="nc">AsgiFunctionApp</span><span class="p">(</span><span class="n">ExternalHttpFunctionApp</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">,</span>
                 <span class="n">http_auth_level</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">AuthLevel</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">AuthLevel</span><span class="o">.</span><span class="n">FUNCTION</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructor of :class:`AsgiFunctionApp` object.</span>

<span class="sd">        :param app: asgi app object.</span>
<span class="sd">        :param http_auth_level: Determines what keys, if any, need to be</span>
<span class="sd">        present</span>
<span class="sd">        on the request in order to invoke the function.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">auth_level</span><span class="o">=</span><span class="n">http_auth_level</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_add_http_app</span><span class="p">(</span><span class="n">AsgiMiddleware</span><span class="p">(</span><span class="n">app</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_add_http_app</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                      <span class="n">http_middleware</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
                          <span class="n">AsgiMiddleware</span><span class="p">,</span> <span class="n">WsgiMiddleware</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add an Asgi app integrated http function.</span>

<span class="sd">        :param http_middleware: :class:`WsgiMiddleware`</span>
<span class="sd">                                or class:`AsgiMiddleware` instance.</span>

<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">http_middleware</span><span class="p">,</span> <span class="n">AsgiMiddleware</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Please pass AsgiMiddleware instance&quot;</span>
                            <span class="s2">&quot; as parameter.&quot;</span><span class="p">)</span>

        <span class="n">asgi_middleware</span><span class="p">:</span> <span class="n">AsgiMiddleware</span> <span class="o">=</span> <span class="n">http_middleware</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">http_type</span><span class="p">(</span><span class="n">http_type</span><span class="o">=</span><span class="s1">&#39;asgi&#39;</span><span class="p">)</span>
        <span class="nd">@self</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="n">methods</span><span class="o">=</span><span class="p">(</span><span class="n">method</span> <span class="k">for</span> <span class="n">method</span> <span class="ow">in</span> <span class="n">HttpMethod</span><span class="p">),</span>
                    <span class="n">auth_level</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auth_level</span><span class="p">,</span>
                    <span class="n">route</span><span class="o">=</span><span class="s2">&quot;/{*route}&quot;</span><span class="p">)</span>
        <span class="k">async</span> <span class="k">def</span> <span class="nf">http_app_func</span><span class="p">(</span><span class="n">req</span><span class="p">:</span> <span class="n">HttpRequest</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="n">Context</span><span class="p">):</span>
            <span class="k">return</span> <span class="k">await</span> <span class="n">asgi_middleware</span><span class="o">.</span><span class="n">handle_async</span><span class="p">(</span><span class="n">req</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span></div>


<div class="viewcode-block" id="WsgiFunctionApp"><a class="viewcode-back" href="../../../functions.decorators.html#functions.WsgiFunctionApp">[docs]</a><span class="k">class</span> <span class="nc">WsgiFunctionApp</span><span class="p">(</span><span class="n">ExternalHttpFunctionApp</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">,</span>
                 <span class="n">http_auth_level</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">AuthLevel</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">AuthLevel</span><span class="o">.</span><span class="n">FUNCTION</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructor of :class:`WsgiFunctionApp` object.</span>

<span class="sd">        :param app: wsgi app object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">auth_level</span><span class="o">=</span><span class="n">http_auth_level</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_add_http_app</span><span class="p">(</span><span class="n">WsgiMiddleware</span><span class="p">(</span><span class="n">app</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_add_http_app</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                      <span class="n">http_middleware</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
                          <span class="n">AsgiMiddleware</span><span class="p">,</span> <span class="n">WsgiMiddleware</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add a Wsgi app integrated http function.</span>

<span class="sd">        :param http_middleware: :class:`WsgiMiddleware`</span>
<span class="sd">                                or class:`AsgiMiddleware` instance.</span>

<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">http_middleware</span><span class="p">,</span> <span class="n">WsgiMiddleware</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Please pass WsgiMiddleware instance&quot;</span>
                            <span class="s2">&quot; as parameter.&quot;</span><span class="p">)</span>

        <span class="n">wsgi_middleware</span><span class="p">:</span> <span class="n">WsgiMiddleware</span> <span class="o">=</span> <span class="n">http_middleware</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">http_type</span><span class="p">(</span><span class="n">http_type</span><span class="o">=</span><span class="s1">&#39;wsgi&#39;</span><span class="p">)</span>
        <span class="nd">@self</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="n">methods</span><span class="o">=</span><span class="p">(</span><span class="n">method</span> <span class="k">for</span> <span class="n">method</span> <span class="ow">in</span> <span class="n">HttpMethod</span><span class="p">),</span>
                    <span class="n">auth_level</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auth_level</span><span class="p">,</span>
                    <span class="n">route</span><span class="o">=</span><span class="s2">&quot;/{*route}&quot;</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">http_app_func</span><span class="p">(</span><span class="n">req</span><span class="p">:</span> <span class="n">HttpRequest</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="n">Context</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">wsgi_middleware</span><span class="o">.</span><span class="n">handle</span><span class="p">(</span><span class="n">req</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span></div>
</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">azure-functions</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../functions.html">functions package</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  <li><a href="../../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;Microsoft Corp..
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.0.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
    </div>

    

    
  </body>
</html>